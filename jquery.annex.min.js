$.extend({jqueryAnnexData:{logging:{originalLoggingFunction:void 0!==window.console&&$.isFunction(console.log)?console.log:$.noop,enabled:!0,xlog:{}},polls:{defaultLoop:null,activePollCount:0,activePolls:{}},history:{currentState:null,currentTitle:null,currentHost:null,currentPath:null},touch:{types:{touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},inputs:["input","textarea","select","option"]},preloadedImages:{unnamed:[],named:{}}},log:function(t){if(this.isSet(t)&&$.inArray(t,["__enable__","__disable__"])>=0){var e=$.makeArray(arguments).slice(1);"__enable__"==t?this.jqueryAnnexData.logging.enabled||(console.log=this.jqueryAnnexData.logging.originalLoggingFunction):(this.jqueryAnnexData.logging.originalLoggingFunction=console.log,console.log=$.noop),this.jqueryAnnexData.logging.enabled="__enable__"==t,this.log.apply(this,e)}else this.exists("console")&&$.isFunction(console.log)&&$.each(arguments,function(t,e){$.isA(e,"boolean")&&(e=e?"true":"false"),console.log(e)})},x:function(){var t="anonymous";if(this.exists("callee.caller",arguments))if(this.isSet(arguments.callee.caller.name)&&""!==$.trim(arguments.callee.caller.name))t=arguments.callee.caller.name;else{var e=arguments.callee.caller.toString().split(/\r?\n/,3);t=1==e.length?e[0]:e.join(" ")+" ..."}this.isSet(this.jqueryAnnexData.logging.xlog[t])||(this.jqueryAnnexData.logging.xlog[t]=0),this.jqueryAnnexData.logging.xlog[t]++,this.log(t+" | "+this.jqueryAnnexData.logging.xlog[t])},elem:function(t,e,n){var i="";if(this.isSet(e))for(var s in e)i+=" "+s+'="'+e[s]+'"';return $(this.isSet(n)?"<"+t+(this.isSet(i)?i:"")+">"+n+"</"+t+">":"<"+t+(this.isSet(i)?i:"")+"/>")},assert:function(t,e){if(!t)throw e=this.isSet(e)?""+e:"assert exception: assertion failed"},isSet:function(){var t=!0;return $.each(arguments,function(e,n){return t=t&&void 0!==n&&null!==n,t?void 0:!1}),t},hasMembers:function(t,e){for(var n=0;n<e.length;n++)if(!this.isSet(t[e[n]]))return this.log("hasMembers | missing member "+e[n]),!1;return!0},orDefault:function(t,e,n){return n=$.isArray(n)?n:[n],!this.isSet(t)||$.inArray(t,n)>=0?e:t},exists:function(t,e){var n=!0;if(this.isA(t,"object")&&this.isSet(t.jquery))return t.length>0;t=""+t,this.isSet(e)||(e=window);var i=t.split(".");return $.each(i,function(t,s){if(t<i.length-1){if(n=n&&$.isSet(e[""+s]),!n)return!1;e=e[""+s]}else n=n&&void 0!==e[""+s]}),n},isA:function(t,e){return $.inArray(e,["boolean","number","string","function","array","date","regexp","object"])>=0?$.type(t)==""+e:(this.log("isA | not asked for valid JS-type"),!1)},isInt:function(t){return parseInt(t,10)===t},isFloat:function(t){return parseFloat(t)===t},isNaN:function(t,e){return e=this.isSet(e)?!!e:!0,e?t!==t:isNaN(t)},strReplace:function(t,e,n){t=[].concat(t),e=[].concat(e),n=""+n;var i="";return $.each(t,function(t,s){i=e.length>1?void 0!==e[t]?e[t]:"":e[0],n=n.split(s).join(i)}),n},strTruncate:function(t,e,n){return t=""+t,this.isSet(e)||(e=30),this.isSet(n)||(n="..."),t.length>e&&(t=""+t.substr(0,e-n.length)+n),t},strConcat:function(t){t=this.isSet(t)?""+t:"";var e=$.makeArray(arguments).slice(1);return e.join(t)},strFormat:function(t){var e=arguments.length>1?$.makeArray(arguments).slice(1):[],n=0,i=!1,s=!1,o=function(t,e){var n=t[e];return $.isFunction(n)?n.call(t):n},r=function(t,e){/^(\d+)([.]|$)/.test(e)||(e="0."+e);for(var n;n=/(.+?)[.](.+)/.exec(e);)t=o(t,n[1]),e=n[2];return o(t,e)},a={"int":function(t,e){e=$.isSet(e)?parseInt(e,10):10;var n=parseInt(t,e);return $.isNaN(n)?"":""+n},"float":function(t,e){e=$.isSet(e)?""+e:null;var n=null;if($.isSet(e)){var i=0;try{i=e.split(".")[1].length}catch(s){throw"strFormat | float precision arg malformed"}var o=Math.pow(10,i);n=Math.round(parseFloat(t)*o)/o}else n=parseFloat(t);return $.isNaN(n)?"":""+n}};return t.replace(/([{}])\1|[{](.*?)(?:!(.+?))?[}]/g,function(t,o,l){var u=null,c="",h=null,d=null;if(o)return o;if(l.length){var f=l.split(":");if(f.length>1){l=f[0];var m=f[1].split("("),p=m[0];m.length>1&&(d=$.strReplace(")","",m[1]));try{h=a[p]}catch(g){throw"strFormat | unknown formatter"}}if(s)throw"strFormat | cannot switch from implicit to explicit numbering";i=!0,u=r(e,l),c=$.isSet(u)?u:""}else{if(i)throw"strFormat | cannot switch from explicit to implicit numbering";s=!0,u=e[n],c=$.isSet(u)?u:"",n++}return $.isSet(h)?h(c,d):c})},removeFromArray:function(t,e,n){t=t.slice(0);var i=t.slice((n||e)+1||t.length);return t.length=0>e?t.length+e:e,$.merge(t,i)},objectLength:function(t){var e=0;return $.each(t,function(){e++}),e},randomInt:function(t,e){return this.isSet(t)?parseInt(t,10):t=0,this.isSet(e)?parseInt(e,10):e=10,t>e?(this.log("randomInt | ceiling may not be smaller than floor"),null):Math.round(Math.random()*(e-t)+t)},randomUUID:function(t){this.isSet(t)||(t=!1);var e=36;t&&(e=32);var n=[],i="0123456789ABCDEF",s=0;for(s=0;e>s;s++)n[s]=Math.floor(16*Math.random());for(n[t?12:14]=4,n[t?16:19]=3&n[19]|8,s=0;e>s;s++)n[s]=i[n[s]];return t||(n[8]=n[13]=n[18]=n[23]="-"),n.join("")},minMax:function(t,e,n){return t>e?t:e>n?n:e},schedule:function(t,e,n){return this.isSet(n)&&this.countermand(n),$.isFunction(e)?{id:window.setTimeout(e,t),type:"timeout"}:null},pschedule:function(t,e,n){if(this.isSet(n)&&$.isPlainObject(n)&&this.hasMembers(n,["id","type"])?(this.countermand(n),n.precise=!0):n={id:-1,type:"timeout",precise:!0},$.isFunction(e)){var i=(new Date).getTime(),s=t,o=function(){if(s>0){var t=(new Date).getTime()-i;s-=t,n.id=window.setTimeout(o,s>10?s:10)}else e()};return n.id=window.setTimeout(o,s),n}return null},reschedule:function(t,e,n){return $.isPlainObject(t)&&this.hasMembers(t,["id","type"])?this.isSet(t.precise)&&t.precise?this.pschedule(e,n,t):this.schedule(e,n,t):void 0},loop:function(t,e,n){return this.isSet(n)&&this.countermand(n,!0),$.isFunction(e)?{id:window.setInterval(e,t),type:"interval"}:null},ploop:function(t,e,n){if(this.isSet(n)&&$.isPlainObject(n)&&this.hasMembers(n,["id","type"])?(this.countermand(n,!0),n.precise=!0):n={id:-1,type:"interval",precise:!0},$.isFunction(e)){var i=(new Date).getTime(),s=t,o=function(){if(s>0){var r=(new Date).getTime()-i;s-=r,n.id=window.setTimeout(o,s>10?s:10)}else e(),i=(new Date).getTime(),s=t,n.id=window.setTimeout(o,s)};return n.id=window.setTimeout(o,s),n}return null},countermand:function(t,e){this.isSet(t)&&($.isPlainObject(t)&&this.hasMembers(t,["id","type"])?"interval"==t.type?window.clearInterval(t.id):window.clearTimeout(t.id):$.isA(t,"number")&&(this.isSet(e)&&e?window.clearInterval(t):window.clearTimeout(t)))},poll:function(t,e,n,i,s,o){if(t=$.trim(""+t),""!==t&&$.isFunction(e)&&$.isFunction(n)){i=$.isFunction(i)?i:$.noop;var r={name:t,condition:e,action:n,elseAction:i,loop:null,lastPollResult:!1,forceFire:function(){e()?(n(!0),r.lastPollResult=!0):(i(!0),r.lastPollResult=!1)}};return this.isSet(o)&&o&&(r.loop=this.loop(this.isSet(s)?parseInt(s,10):250,function(){r.condition()?(r.action(r.lastPollResult===!1)&&($.countermand(r.loop),r.loop=null,delete $.jqueryAnnexData.polls.activePolls[r.name],$.jqueryAnnexData.polls.activePollCount--),r.lastPollResult=!0):(r.elseAction(r.lastPollResult===!0),r.lastPollResult=!1)})),this.isSet(this.jqueryAnnexData.polls.activePolls[t])&&this.unpoll(t),this.jqueryAnnexData.polls.activePolls[t]=r,this.jqueryAnnexData.polls.activePollCount++,(!this.isSet(this.jqueryAnnexData.polls.defaultLoop)||this.isSet(s)&&!this.isSet(o))&&this.jqueryAnnexData.polls.activePollCount>0&&(this.isSet(this.jqueryAnnexData.polls.defaultLoop)&&this.countermand(this.jqueryAnnexData.polls.defaultLoop),this.jqueryAnnexData.polls.defaultLoop=this.loop(this.isSet(s)?parseInt(s,10):250,function(){$.jqueryAnnexData.polls.activePollCount>0?$.each($.jqueryAnnexData.polls.activePolls,function(t,e){$.isSet(e.loop)||(e.condition()?(e.action(e.lastPollResult===!1)&&(delete $.jqueryAnnexData.polls.activePolls[t],$.jqueryAnnexData.polls.activePollCount--),e.lastPollResult=!0):(e.elseAction(e.lastPollResult===!0),e.lastPollResult=!1))}):($.countermand($.jqueryAnnexData.polls.defaultLoop),$.jqueryAnnexData.polls.defaultLoop=null)})),r}return null},unpoll:function(t){return t=$.trim(""+t),""!==t?(this.isSet(this.jqueryAnnexData.polls.activePolls[t].loop)&&this.countermand(this.jqueryAnnexData.polls.activePolls[t].loop),this.isSet(this.jqueryAnnexData.polls.activePolls[t])?(delete this.jqueryAnnexData.polls.activePolls[t],this.jqueryAnnexData.polls.activePollCount--,this.jqueryAnnexData.polls.activePollCount<=0&&(this.countermand(this.jqueryAnnexData.polls.defaultLoop),this.jqueryAnnexData.polls.defaultLoop=null),!0):!1):!1},throttleExecution:function(t,e,n){n=this.isSet(n)?!!n:!0;var i=!1,s=null;return function(){i||$.isSet(s)?i=!0:(s=$.loop(t,function(){i?e():($.countermand(s),s=null),i=!1}),n&&e())}},holdExecution:function(t,e){var n=this.schedule(1,$.noop);return function(){n=$.reschedule(n,t,function(){e()})}},deferExecution:function(t,e){return e=this.isSet(e)?parseInt(e,10):1,function(){$.schedule(e,t)}},redirect:function(t,e,n,i,s){var o=!this.isSet(t);this.isSet(t)||(t=window.location.href),this.isSet($(document).urlAnchor())&&(t=t.replace(/\#.+$/,""));var r=t.split("?",2);t=r[0];var a=this.isSet(r[1])?r[1]:"",l={};if(a.length>0)for(var u=a.split("&"),c=0;c<u.length;c++){var h=u[c].split("=",2);l[""+h[0]]=2==h.length?h[1]:null}this.isSet(e)&&$.isPlainObject(e)&&$.extend(l,e),e=l;var d="";for(var f in e)d+=this.isSet(e[f])?f+"="+encodeURIComponent(decodeURIComponent(e[f]))+"&":f+"&";d.length>0&&(d=d.substring(0,d.length-1),d=-1==t.indexOf("?")?"?"+d:"&"+d),this.isSet(n)||(n=o?$(document).urlAnchor(!0):null);var m=t+(d.length>0?d:"")+(this.isSet(n)?"#"+n:"");if(this.isSet(i)||this.isSet(s))if(!this.isSet(i)&&this.isSet(s))window.open(m,""+s);else{this.isSet(i)||(i={});var p={method:"post",action:m,"data-ajax":"false"};this.isSet(s)&&$.extend(p,{target:""+s});var g=this.elem("form",p);$.each(i,function(t,e){$.isArray(e)?$.each(e,function(e,n){g.append($.elem("input",{type:"hidden",name:t+"[]",value:""+n}))}):g.append($.elem("input",{type:"hidden",name:""+t,value:""+e}))}),$("body").append(g),g.submit(),g.remove()}else window.location.href=m},browserSupportsHistoryManipulation:function(){return window.history&&window.history.pushState&&window.history.replaceState},browserSupportsLocalStorage:function(t){t=this.isSet(t)?""+t:"!!!foo!!!";try{return window.localStorage.setItem(t,"bar"),window.localStorage.removeItem(t),!0}catch(e){return!1}},browserSupportsSessionStorage:function(t){t=this.isSet(t)?""+t:"!!!foo!!!";try{return window.sessionStorage.setItem(t,"bar"),window.sessionStorage.removeItem(t),!0}catch(e){return!1}},changeUrlSilently:function(t,e,n,i){if(this.isSet(e)||(e=""),this.isSet(n)||(n=""),window.history){i&&window.history.pushState?window.history.pushState(e,""+n,""+t):!i&&window.history.replaceState&&window.history.replaceState(e,""+n,""+t);var s=this.strReplace(["http://","https://","//"],"",t);s=s.split("/");var o=s.shift();""===$.trim(o)&&(o=window.location.host);var r=s.join("/");this.jqueryAnnexData.history.currentState=e,this.jqueryAnnexData.history.currentTitle=""+n,this.jqueryAnnexData.history.currentHost=""+o,this.jqueryAnnexData.history.currentPath="/"+r}},onHistoryChange:function(t,e,n){this.browserSupportsHistoryManipulation()&&(e=this.isSet(e)?"."+e:"",n&&$(window).off("popstate"+e),$(window).on("popstate"+e,function(e){t({state:$.jqueryAnnexData.history.currentState,title:$.jqueryAnnexData.history.currentTitle,host:$.jqueryAnnexData.history.currentHost,path:$.jqueryAnnexData.history.currentPath},{state:e.state,title:e.title,host:window.location.host,path:window.location.pathname}),$.jqueryAnnexData.history.currentState=e.state,$.jqueryAnnexData.history.currentTitle=""+e.title,$.jqueryAnnexData.history.currentHost=window.location.host,$.jqueryAnnexData.history.currentPath=window.location.pathname}))},reload:function(t){window.location.reload(this.isSet(t)&&t)},openWindow:function(t,e,n,i){n=this.isSet(n)?n:window,i=this.isSet(i)?!!i:!1;var s="",o=[];if(this.isSet(e)){this.isSet(e.name)&&(s=""+e.name);for(var r in e)("name"!=r||i)&&o.push(r+"="+e[r])}return n.open(""+t,s,o.join(", "))},getCSS:function(t,e,n){var i=this,s=null,o={styletag:!1,media:"all",charset:"utf-8"};return this.isSet(e)&&$.extend(o,e),e=o,$.get(t,function(o){s=e.styletag?i.elem("style",{type:"text/css"},o):i.elem("link",{rel:"stylesheet",type:"text/css",media:e.media||"screen",href:""+t}),i.isSet(e.charset)&&s.attr("charset",""+e.charset),i.isSet(e.id)&&(n=$.isFunction(n)?function(t){return function(){s.attr("data-id",""+e.id),t(s)}}(n):function(){s.attr("data-id",""+e.id)}),e.styletag?($("head style").length>0?$("head style:last").after(s):$("head link").length>0?$("head link:last").after(s):$("head").append(s),$.isFunction(n)&&n(s)):($("head link").length>0?$("head link:last").after(s):$("head style").length>0?$("head style:first").before(s):$("head").append(s),$.isFunction(n)&&i.schedule(100,function(){n(s)}))})},cookie:function(t,e,n){if(void 0===e){var i=null;if(document.cookie&&""!==document.cookie)for(var s=document.cookie.split(";"),o=0;o<s.length;o++){var r=$.trim(s[o]);if(r.substring(0,t.length+1)==t+"="){i=decodeURIComponent(r.substring(t.length+1));break}}return i}n=n||{},null===e&&(e="",n.expires=-1);var a="";if(n.expires&&("number"==$.type(n.expires)||n.expires.toUTCString)){var l;$.isA(n.expires,"number")?(l=new Date,l.setTime(l.getTime()+24*n.expires*60*60*1e3)):l=n.expires,a="; expires="+l.toUTCString()}var u=n.path?"; path="+n.path:"",c=n.domain?"; domain="+n.domain:"",h=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),a,u,c,h].join("")},cssToInt:function(t){return parseInt(t.replace(/(px|em|%)$/,""),10)},cssUrlToSrc:function(t,e){var n=new RegExp("^url\\((?:'|\")?([^'\"]+)(?:'|\")?\\)$","i"),i=n.exec(t);return this.isSet(i)?this.isSet(e)?i[1].substr(e.length):i[1]:""},preloadImages:function(t,e,n){n=this.isSet(n)?!!n:!1;var i=null,s=$.Deferred();if(!$.isPlainObject(t)&&!$.isArray(t)){if(image=""+t,this.exists(image,this.jqueryAnnexData.preloadedImages.named))return this.jqueryAnnexData.preloadedImages.named[image];t=[image]}if($.isPlainObject(t)){var o={};$.each(t,function(t,e){t=""+t,e=""+e,$.exists(t,$.jqueryAnnexData.preloadedImages.named)||(o[t]=new Image,o[t].src=e)}),$.extend(this.jqueryAnnexData.preloadedImages.named,o),i=this.jqueryAnnexData.preloadedImages.named}else $.isArray(t)&&($.each(t,function(t,e){var n=new Image;n.src=""+e,$.jqueryAnnexData.preloadedImages.unnamed.push(n)}),i=this.jqueryAnnexData.preloadedImages.unnamed);var r=[];$.each(this.jqueryAnnexData.preloadedImages.named,function(t,e){r.push(e)}),$.merge(r,this.jqueryAnnexData.preloadedImages.unnamed);r.length;return $(r).imgLoad(function(t,n){$.isFunction(e)&&e(t,n),s.resolve()}),n?i:s},waitForWebfonts:function(t,e,n){t=$.isArray(t)?t:[""+t],n=this.isSet(n)?""+n:"sans-serif";for(var i=$.Deferred(),s=0,o=0;o<t.length;o++){var r=this.elem("span").html("giItT1WQy@!-/#").css({position:"absolute",visibility:"hidden",left:"-10000x",top:"-10000px","font-size":"300px","font-family":n,"font-variant":"normal","font-style":"normal","font-weight":"normal","letter-spacing":"0"});$("body").append(r);var a=r.width();r.css("font-family",t[o]+", "+n);var l=null,u=function(){return r&&r.width()!=a&&(s++,r.remove(),r=null),s>=t.length&&($.isSet(l)&&$.countermand(l),s==t.length)?($.isFunction(e)&&e(),i.resolve(),!0):!1};u()||(l=this.loop(50,u))}return i},isolateId:function(t){var e=String(t).match(/[0-9]+/);return this.isSet(e)&&e.length>0?e[0]:null},isPossibleId:function(t,e,n,i){e=$.isSet(e)?""+e:"",n=$.isSet(n)?""+n:"";var s=null;return s=new RegExp(i?"^"+e+"[0-9]+"+n+"$":"^"+this.maskForRegEx(e)+"[0-9]+"+this.maskForRegEx(n)+"$"),s.test(""+t)},maskForSelector:function(t){return t.replace(/([\#\;\&\,\.\+\*\~\'\:\"\!\^\$\[\]\(\)\=\>\ÃŸ\|\/\@])/,"\\$1")},maskForRegEx:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},textContent:function(t,e){e=this.isSet(e)?!!e:!1;var n="",i=this.isA(t,"object")&&this.isSet(t.jquery)?t:this.elem("p").html(""+t);return n=e?i.contents().filter(function(){return 3==this.nodeType}).text():i.text(),$.trim(n)},bindCursorKey:function(t,e,n){var i={up:38,right:39,down:40,left:37};this.isSet(n)||(n="keydown"),this.exists(t,i)&&$(document).on(n+"."+t,function(n){n.keyCode==i[t]&&e(n)})},unbindCursorKey:function(t,e){var n={up:38,right:39,down:40,left:37};this.isSet(e)||(e="keydown"),this.exists(t,n)&&$(document).off(e+"."+t)},removeSelection:function(){$.exists("getSelection")?window.getSelection().removeAllRanges():$.exists("getSelection",document)&&document.getSelection().removeAllRanges(),$.exists("selection",document)&&document.selection.empty()},contextIsTouchDevice:function(t,e,n){var i=this,s="createTouch"in document,o=n?!0:s,r=navigator.userAgent;return this.isSet(t)&&t&&(o=s&&(this.isSet(r.match(/(iPhone|iPod|iPad)/i))||this.isSet(r.match(/(BlackBerry|PlayBook)/i))||this.isSet(r.match(/Android/i))||this.isSet(r.match(/IE\sMobile\s[0-9]{0,2}/i))||this.isSet(r.match(/Opera Mobi/i))||this.isSet(r.match(/mobile.+firefox/i))||this.isSet(r.match(/Kindle/i))),!o&&this.isSet(e)&&$.isArray(e)&&$.each(e,function(t,e){var n=new RegExp(e,"i"),a=n.exec(r);o=s&&o||s&&i.isSet(a)})),o},contextHasHighDpi:function(){if(window.matchMedia){var t="@media only screen and (-webkit-min-device-pixel-ratio: 1.5),only screen and (-o-min-device-pixel-ratio: 3/2),only screen and (min--moz-device-pixel-ratio: 1.5),only screen and (min-device-pixel-ratio: 1.5),only screen and (min-resolution: 144dpi),only screen and (min-resolution: 1.5dppx)";return window.matchMedia(t).matches}return!1}}),$.fn.extend({oo:function(){if(1==$(this).length)return $(this).first()[0];if($(this).length>1){var t=[];return $(this).each(function(){t.push($(this).first()[0])}),t}return null},doselect:function(){return $(this).is("option, :text, textarea")&&($(this).is(":text, textarea")?$(this).each(function(){this.focus(),this.select()}):$(this).attr("selected","selected").prop("selected",!0)),this},deselect:function(){if($(this).is(":text, textarea")){var t=$(this).val(),e=function(){return!1};$(this).on("change",e).val("").val(t).off("change",e)}else $(this).removeAttr("selected").prop("selected",!1);return this},check:function(){return $(this).is(":checkbox, :radio")&&$(this).attr("checked","checked").prop("checked",!0),this},uncheck:function(){return $(this).removeAttr("checked").prop("checked",!1),this},enable:function(){return $(this).removeAttr("disabled").prop("disabled",!1),this},disable:function(){return $(this).is(":input")&&$(this).attr("disabled","disabled").prop("disabled",!0),this},setElementIdentity:function(id,classes,style,$inheritFrom){var that=this,copyAttrs=["id","class","style"];return $.isSet($inheritFrom)&&$.isA($inheritFrom,"object")&&$.each($inheritFrom[0].attributes,function(index,attribute){-1!=$.inArray(attribute.name,copyAttrs)?$(that).attr(attribute.name,attribute.value):0===attribute.name.indexOf("data-")?$(that).attr(attribute.name,attribute.value).data($.strReplace("data-","",attribute.name),attribute.value):0===attribute.name.indexOf("on")&&$(that).on(attribute.name.substring(2)+".frommarkup",function(){eval(attribute.value)})}),$.isSet(id)&&$(this).attr("id",""+id),$.isSet(classes)&&($.isArray(classes)?$.each(classes,function(t,e){$(that).addClass(e)}):$(this).attr("class",($.isSet($(this).attr("class"))?$(this).attr("class")+" ":"")+classes)),$.isSet(style)&&($.isPlainObject(style)?$(that).css(style):$(this).attr("style",($.isSet($(this).attr("style"))?$(this).attr("style")+" ":"")+style)),this},urlParameter:function(t){t=""+t;var e=!1,n=[],i=null,s="";if("#document"==$(this).prop("nodeName"))window.location.search.search(t)>-1&&(i=window.location.search.substr(1,window.location.search.length).split("&"));else if($.isSet($(this).attr("src")))s=$(this).attr("src"),s.indexOf("?")>-1&&(i=s.substr(s.indexOf("?")+1).split("&"));else{if(!$.isSet($(this).attr("href")))return null;s=$(this).attr("href"),s.indexOf("?")>-1&&(i=s.substr(s.indexOf("?")+1).split("&"))}if(null===i)return null;for(var o=null,r=0;r<i.length;r++)o=i[r].split("="),o[0]==t&&(e=!0,o.length>1&&n.push(o[1]));return e?0===n.length?!0:1==n.length?n[0]:n:null},urlAnchor:function(t){var e=null,n=[];if("#document"==$(this).prop("nodeName"))e=window.location.hash;else if($.isSet($(this).attr("src")))n=$(this).attr("src").split("#"),n.length>1&&(e="#"+n[1]);else{if(!$.isSet($(this).attr("href")))return null;n=$(this).attr("href").split("#"),n.length>1&&(e="#"+n[1])}return $.isSet(t)&&t&&(e=e.replace("#","")),$.isSet(e)&&""===$.trim(e)&&(e=null),e},formDataToObject:function(){for(var t=$(this).serializeArray(),e={},n=!1,i=0;i<t.length;i++)n=!1,-1!=t[i].name.indexOf("[]")&&(t[i].name=t[i].name.slice(0,t[i].name.indexOf("[]")),n=!0),$.isSet(e[t[i].name])?$.isArray(e[t[i].name])?e[t[i].name].push(t[i].value):e[t[i].name]=[e[t[i].name],t[i].value]:e[t[i].name]=n?[t[i].value]:t[i].value;return e},isInDom:function(){return $(this).closest(document.documentElement).length>0},isInViewport:function(t){var e=null;try{e=$(this).first().oo().getBoundingClientRect()}catch(n){return!0}t=$.isSet(t)?!!t:!1;var i=null;return i=t?{top:0,right:$(window).width(),bottom:$(window).height(),left:0}:{top:-(e.bottom-e.top)+1,right:$(window).width()+(e.right-e.left)+1,bottom:$(window).height()+(e.bottom-e.top)+1,left:-(e.right-e.left)+1},e.top>=i.top&&e.right<=i.right&&e.left>=i.left&&e.bottom<=i.bottom},rehide:function(){return $(this).each(function(){$(this).hasClass("hidden")&&$(this).removeClass("hidden").hide()}),this},measureHidden:function(t,e,n){var i=null;$.isSet(n)||(n=$("body")),n.sandbox();var s=$(this).clone();n.children("#sandbox").append(s);var o=null;return o=$.isSet(e)?s.find(""+e):s,i=$.proxy($.fn[""+t],o)(),n.removeSandbox(),i},imgLoad:function(t,e){var n=$(this).filter("img"),i=n.length,s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";return n.on("load.imgload",function(o){if((!e||e&&$(this).width()>0)&&this.src!=s)--i<=0&&$.isFunction(t)&&(n.off("load.imgload"),t.call(n,o));else{var r=$(this);$.schedule(10,function(){r.trigger("load.imgload")})}}).each(function(){if(this.complete||void 0===this.complete){var t=this.src;this.src=s,this.src=t}}),this},loopAnimation:function(t,e){return e=!$.isSet(e)||$.isSet(e)&&e,$.isFunction(t)&&(e&&$(this).stop(!0,!0),$(this).queue(function(e){t($(this)),$(this).queue(arguments.callee),e()})),this},cssCrossBrowser:function(t){if($.isPlainObject(t)){var e=$.extend({},t);$.each(e,function(e,n){$.each(["-moz-","-webkit-","-o-","-ms-","-khtml-"],function(i,s){t[s+e]="transition"==e?$.strReplace("transform",s+"transform",n):n})}),$(this).css(t)}return this},findTextNodes:function(t,e){t=$.isFunction(t)?t:function(){return!0},e=$.isSet(e)?!!e:!1;var n=$();return $.each($(this),function(){var i=this,s=$(this);e||(s=s.add(s.find("*"))),s.each(function(){n=n.add($(this).contents().filter(function(){return 3==this.nodeType&&""!==$.trim($(this).text())?!!t(this,i):!1}))})}),n},createSelection:function(t,e,n){t=$.isSet(t)?parseInt(t,10):null,e=$.isSet(e)?parseInt(e,10):null,n=$.isSet(n)?!!n:!1;var i="";return $.each($(this),function(){var n,s,o;if($.exists("selectionStart",this)&&$.exists("selectionEnd",this))$(this).doselect(),o=$(this).val(),this.selectionStart=t,this.selectionEnd=o.length-e,i=o.substring(this.selectionStart,this.selectionEnd);else if($.exists("getSelection")){if(s=window.getSelection(),n=document.createRange(),n.selectNodeContents($(this).oo()),$.isSet(t)||$.isSet(e)){var r=$(this).findTextNodes(),a=r.first().oo(),l=0,u=r.last().oo(),c=r.length-1;if($.isSet(t)){for(var h=t,d=h<=a.length;!d;)l++,h-=a.length,a=r.eq(l).oo(),d=h<=a.length;n.setStart(a,h)}if($.isSet(e)){for(var f=e,m=f<=u.length;!m;)c--,f-=u.length,u=r.eq(c).oo(),m=f<=u.length;n.setEnd(u,u.length-f)}}s.removeAllRanges(),s.addRange(n),i=n.toString()}else $.exists("body.createTextRange",document)&&(n=document.body.createTextRange(),n.moveToElementText($(this).oo()),$.isSet(t)&&n.moveStart("character",t),$.isSet(e)&&n.moveEnd("character",-e),n.select(),i=n.text)}),n?i:this},disableSelection:function(){return $(this).each(function(){this.onselectstart=function(){return!1},this.unselectable="on",$(this).cssCrossBrowser({"user-select":"none"}),$(this).css("-webkit-touch-callout","none")}),this},registerMailto:function(t,e,n,i,s,o,r){return $.isSet(r)||(r="click"),$.isSet(i)||(i=""),$.isSet(s)||(s=""),$(this).on(r,function(){$.redirect("mailto:"+e+"@"+n+"."+t+"?subject="+encodeURIComponent(i)+"&body="+encodeURIComponent(s))}),$.isSet(o)&&o&&$(this).html((e+"@"+n+"."+t).replace(/(\w{1})/g,"$1&zwnj;")),this},registerTel:function(t,e,n,i,s,o){return $.isSet(o)||(o="click"),0!==(""+n).indexOf("+")&&(n="+"+n),$(this).on(o,function(){$.redirect("tel:"+n+t+$.strReplace(["-"," "],"",""+e+i))}),$.isSet(s)&&s&&$(this).html((n+t+" "+e+i).replace(/(\w{1})/g,"$1&zwnj;")),this},simulateTouchEvents:function(t){return $(this).on("touchstart touchmove touchend",function(e){var n=e.target==this;if(n||!$.isSet(t)||!t){var i=!n&&e.target.__ajqmeclk,s=e.originalEvent;if(i!==!0&&$.isSet(s)&&$.isSet(s.touches)&&s.touches.length<=1&&$.inArray(s.type.toLowerCase(),$.jqueryAnnexData.touch.types)<0){var o=n||$.isA(i,"boolean")?!1:$(e.target).data("events"),r=!1;if(n?r=!1:(e.target.__ajqmeclk=o,r=$.isSet(o)&&($.isSet(o.click)||$.isSet(o.mousedown)||$.isSet(o.mouseup)||$.isSet(o.mousemove))),!r&&$.inArray(e.target.tagName.toLowerCase(),$.jqueryAnnexData.touch.inputs)<0){var a=s.changedTouches[0],l=document.createEvent("MouseEvent");l.initMouseEvent($.jqueryAnnexData.touch.types[e.type.toLowerCase()],!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),l.synthetic=!0,a.target.dispatchEvent(l),s.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()}}}}),this},sandbox:function(){return $(this).append($.elem("div",{id:"sandbox",style:"position:absolute; visibility:hidden; display:block;"})),this},removeSandbox:function(){return $(this).find("#sandbox").remove(),this}});