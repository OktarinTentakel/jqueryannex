$.extend({elem:function(a,b,e){var c="";if(this.isSet(b)){for(var d in b){c+=" "+d+'="'+b[d]+'"'}}if(this.isSet(e)){return $("<"+a+(this.isSet(c)?c:"")+">"+e+"</"+a+">")}else{return $("<"+a+(this.isSet(c)?c:"")+"/>")}},assert:function(b,a){if(!b){a=this.isSet(a)?""+a:"assert exception: assertion failed";throw a}},isSet:function(a){return((a!==undefined)&&(a!==null))},exists:function(b,a){if(!this.isSet(a)){a=window}return(undefined!==a[""+b])},isA:function(b,a){if($.inArray(a,["boolean","number","string","function","array","date","regexp","object"])){return $.type(b)==""+a}else{throw"type-identification exception: not asked for valid JS-type";return false}},strReplace:function(d,c,b){d=[].concat(d);c=[].concat(c);b=""+b;var a="";$.each(d,function(f,e){a=(c.length>1)?((c[f]!==undefined)?c[f]:""):c[0];b=b.split(e).join(a)});return b},strTruncate:function(b,a,c){b=""+b;if(!this.isSet(a)){a=30}if(!this.isSet(c)){c="..."}if(b.length>a){b=""+b.substr(0,a-c.length)+c}return b},schedule:function(a,c,b){if(this.isSet(b)){this.countermand(b)}if($.isFunction(c)){return{id:window.setTimeout(c,a),type:"timeout"}}return null},reschedule:function(c,a,b){return this.schedule(a,b,c)},loop:function(b,c,a){if(this.isSet(a)){this.countermand(a,true)}if($.isFunction(c)){return{id:window.setInterval(c,b),type:"interval"}}return null},countermand:function(b,a){if(this.isSet(b)){if($.isPlainObject(b)&&this.validate(b,["id","type"])){if(b.id=="interval"){window.clearInterval(b.id)}else{window.clearTimeout(b.id)}}else{if($.isA(b,"number")){if(!this.isSet(a)||!a){window.clearTimeout(b)}else{window.clearInterval(b)}}}}},redirect:function(c,f,j){var a=!this.isSet(c);if(!this.isSet(c)){c=window.location.href}if(this.isSet(this.urlAnchor())){c=c.replace(/\#.+$/,"")}var d=c.split("?",2);c=d[0];var g=this.isSet(d[1])?d[1]:"";var k={};if(g.length>0){var m=g.split("&");for(var h=0;h<m.length;h++){var l=m[h].split("=",2);if(l.length==2){k[""+l[0]]=l[1]}else{k[""+l[0]]=null}}}if(this.isSet(f)&&$.isPlainObject(f)){$.extend(k,f)}f=k;var e="";for(var b in f){if(this.isSet(f[b])){e+=b+"="+encodeURIComponent(decodeURIComponent(f[b]))+"&"}else{e+=b+"&"}}if(e.length>0){e=e.substring(0,e.length-1);if(c.indexOf("?")==-1){e="?"+e}else{e="&"+e}}if(!this.isSet(j)){j=a?this.urlAnchor(true):null}window.location.href=c+((e.length>0)?e:"")+(this.isSet(j)?"#"+j:"")},reload:function(a){window.location.reload(this.isSet(quickload)&&quickload)},openWindow:function(d,c,e){if(!this.isSet(e)){e=window}var b="";var a=[];if(this.isSet(c)){if(this.isSet(c.name)){b=""+c.name}for(prop in c){a.push(prop+"="+c[prop])}}return e.open(""+d,b,a.join(", "))},getCSS:function(b,a,e){var d=this;var c=null;$.get(b,function(f){if(!a.styletag){c=d.elem("link",{rel:"stylesheet",type:"text/css",media:a.media||"screen",href:""+b})}else{c=d.elem("style",{type:"text/css"},f)}if(d.isSet(a.charset)){c.attr("charset",""+a.charset)}if(d.isSet(a.id)){if(d.isSet(e)){e=(function(g){return function(){c.attr("data-id",""+a.id);g(c)}})(e)}else{e=function(){c.attr("data-id",""+a.id)}}}if(!a.styletag){if($("head link").length>0){$("head link:last").after(c)}else{if($("head style").length>0){$("head style:first").before(c)}else{$("head").append(c)}}if(d.isSet(e)){d.schedule(100,function(){e(c)})}}else{if($("head style").length>0){$("head style:last").after(c)}else{if($("head link").length>0){$("head link:last").after(c)}else{$("head").append(c)}}if(d.isSet(e)){e(c)}}})},urlAnchor:function(b){var a="";if(this.isSet(b)&&b){a=window.location.hash.replace("#","")}else{a=window.location.hash}return(a!="")?a:null},cookie:function(b,j,m){if(j!==undefined){m=m||{};if(j===null){j="";m.expires=-1}var e="";if(m.expires&&($.type(m.expires)=="number"||m.expires.toUTCString)){var f;if($.isA(m.expires,"number")){f=new Date();f.setTime(f.getTime()+(m.expires*24*60*60*1000))}else{f=m.expires}e="; expires="+f.toUTCString()}var l=m.path?"; path="+(m.path):"";var g=m.domain?"; domain="+(m.domain):"";var a=m.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var h=0;h<k.length;h++){var c=$.trim(k[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break}}}return d}},cssToInt:function(a){return parseInt(a.replace(/(px|em|%)$/,""))},cssUrlToSrc:function(a,c){var d=new RegExp("^url\\((?:'|\")?([^'\"]+)(?:'|\")?\\)$","i");var b=d.exec(a);if(this.isSet(b)){if(!this.isSet(c)){return b[1]}else{return b[1].substr(c.length)}}else{return""}},argproxy:function(c,b){var a=Array.prototype.slice.call(arguments,2);return function(){c.apply(b,a)}},validate:function(c,b){if(!this.isSet(c)||!this.isA(c,"object")){throw"type exception: obj not an Object";return false}if(!this.isSet(b)||!$.isArray(b)){throw"param exception: no valid memberNames";return false}for(var a=0;a<b.length;a++){if(!this.isSet(c[b[a]])){throw"validity exception: missing member "+b[a];return false}}return true},isolateId:function(a){var b=String(a).match(/[0-9]+/);if(this.isSet(b)&&b.length>0){return b[0]}else{throw"id-isolation exception: no valid id in string";return null}},maskForSelector:function(a){return a.replace(/([\#\;\&\,\.\+\*\~\'\:\"\!\^\$\[\]\(\)\=\>\ÃŸ\|\/\@])/,"\\$1")},removeSelection:function(){if(window.getSelection){window.getSelection().removeAllRanges()}else{if(document.getSelection){document.getSelection().removeAllRanges()}}}});$.fn.doselect=function(){if($(this).is("option, :text, textarea")){if($(this).is(":text, textarea")){$(this).each(function(){this.focus();this.select()})}else{$(this).attr("selected","selected")}}return $(this)};$.fn.deselect=function(){if($(this).is(":text, textarea")){var a=$(this).val();var b=function(c){return false};$(this).on("change",b).val("").val(a).off("change",b)}else{$(this).removeAttr("selected")}return $(this)};$.fn.check=function(){if($(this).is(":checkbox, :radio")){$(this).attr("checked","checked")}return $(this)};$.fn.uncheck=function(){$(this).removeAttr("checked");return $(this)};$.fn.enable=function(){$(this).removeAttr("disabled");return $(this)};$.fn.disable=function(){if($(this).is(":input")){$(this).attr("disabled","disabled")}return $(this)};$.fn.addClassUnique=function(a){if(!$(this).hasClass(""+a)){$(this).addClass(""+a)}return $(this)};$.fn.setElementIdentity=function(f,b,c,a){var d=this;var e=["id","class","style"];if($.isSet(a)&&$.isA(a,"object")){$.each(a[0].attributes,function(g,h){if(h.specified){if($.inArray(h.name,e)!=-1){$(d).attr(h.name,h.value)}else{if(h.name.indexOf("data-")==0){$(d).attr(h.name,h.value).data($.strReplace("data-","",h.name),h.value)}}}})}if($.isSet(f)){$(this).attr("id",""+f)}if($.isSet(b)){if($.isArray(b)){$.each(b,function(g,h){$(d).addClassUnique(h)})}else{$(this).attr("class",($.isSet($(this).attr("class"))?$(this).attr("class")+" ":"")+b)}}if($.isSet(c)){if($.isPlainObject(c)){$(d).css(c)}else{$(this).attr("style",($.isSet($(this).attr("style"))?$(this).attr("style")+" ":"")+c)}}return $(this)};$.fn.formDataToObject=function(){var a=$(this).serializeArray();var c={};var d=false;for(var b=0;b<a.length;b++){d=false;if(a[b].name.indexOf("[]")!=-1){a[b].name=a[b].name.slice(0,a[b].name.indexOf("[]"));d=true}if(!$.isSet(c[a[b].name])){if(!d){c[a[b].name]=a[b].value}else{c[a[b].name]=[a[b].value]}}else{if(!$.isArray(c[a[b].name])){c[a[b].name]=[c[a[b].name],a[b].value]}else{c[a[b].name].push(a[b].value)}}}return c};$.fn.rehide=function(){$(this).each(function(){if($(this).hasClass("hidden")){$(this).removeClass("hidden").hide()}});return $(this)};$.fn.measureHidden=function(f,b,d){var e=null;if(!$.isSet(d)){d=$("body")}d.sandbox();var c=$(this).clone();d.children("#sandbox").append(c);var a=null;if($.isSet(b)){a=c.find(""+b)}else{a=c}e=$.proxy($.fn[""+f],a)();d.removeSandbox();return e};$.fn.imgLoad=function(c){var a=this.filter("img");var b=a.length;a.load(function(){if(--b<=0){c.call(a,this)}}).each(function(){if(this.complete||this.complete===undefined){var d=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=d}});return this};$.fn.disableSelection=function(){$(this).each(function(){this.onselectstart=function(){return false};this.unselectable="on";$(this).css({"user-select":"none","-o-user-select":"none","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none"})});return $(this)};$.fn.boxMessage=function(d,c,e,b){var a=null;if($(this).children("div.boxmessage").length>0){a=$(this).children("div.boxmessage:first")}else{a=this.elem("div",{"class":"boxmessage"}).append(this.elem("div",{"class":"boxmessagebg"})).append(this.elem("div",{"class":"boxmessagetextcontainer"})).children(".boxmessagetextcontainer").append(this.elem("div",{"class":"boxmessagetext"})).end();a.hide();$(this).append(a);a.click(function(){$(this).fadeOut()})}if(!this.isSet(c)){a.find(".boxmessagetext:first").attr("style",""+c)}if(this.isSet(b)){a.off("click");a.css("cursor","default")}a.find(".boxmessagetext:first").html(""+d);a.fadeIn(this.isSet(e)?e:400);return $(this)};$.fn.removeBoxMessage=function(a){$(this).children("div.boxmessage").fadeOut(this.isSet(a)?a:400,function(){$(this).remove()});return $(this)};$.fn.sandbox=function(){$(this).append($.elem("div",{id:"sandbox",style:"position:absolute; visibility:hidden; display:block;"}));return $(this)};$.fn.removeSandbox=function(){$(this).find("#sandbox").remove();return $(this)};$.extend($.expr[":"],{focus:function(a){return a==document.activeElement}});