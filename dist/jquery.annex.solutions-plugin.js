!function(i,e){var t=i.jQuery||i.$;if("function"==typeof define&&define.amd)define(["jqueryannex"],e);else if("object"==typeof module&&module.exports){if(!i.__AVA_ENV__)try{t||(t=require("jquery")),t.jqueryAnnexData||(t=require("jqueryannex"))}catch(i){}module.exports=t?e(t):function(i){return e(i)}}else e(t)}("undefined"!=typeof window?window:this,function(m){return function(){if(!m||!m.fn||!m().jquery)throw'jQueryAnnex Solutions Plugin | cannot extend jQuery, since it does not seem to be available as "jQuery" or is missing basic functionality';if(!m.jqueryAnnexData)throw"jQueryAnnex Solutions Plugin | cannot extend jQuery Annex, since it does not seem to be available yet"}(),m.extend(m.jqueryAnnexData,{highDpiBackgroundImages:{targetClosures:[],checkTimer:{id:window.setTimeout(m.noop,1),type:"timeout"}}}),m.extend({setupHashNavHighlighting:function(n,a,r,s,i,h){r=this.orDefault(r,"h2:first","string"),s=this.orDefault(s,"first-visible-headline"),i=this.orDefault(i,250,"int"),h=this.orDefault(h,"active","string");var e=function(){var e=!1;switch(s){case"first-visible-headline":n.removeClass(h),a.each(function(){var i=m(this).find(r).first();if(0<i.length&&i.isInViewport(!0))return n.filter('[href*="#'+m(this).attr("id")+'"]').first().addClass(h),!(e=!0)}),e||a.each(function(){if(m(this).isInViewport())return n.filter('[href*="#'+m(this).attr("id")+'"]').first().addClass(h),!(e=!0)});break;case"headline-at-top":var t=window.innerHeight||m(window).height(),i=m(window).scrollTop()+t>m("body").height()-Math.round(t/10);n.removeClass(h),i?n.filter('[href*="#'+a.last().attr("id")+'"]').first().addClass(h):a.each(function(){var i=m(this).find(r);(m.isFunction(i.oo().getBoundingClientRect)?i.oo().getBoundingClientRect().top:i.offset().top)<Math.round(t/10)&&(n.removeClass(h),n.filter('[href*="#'+m(this).attr("id")+'"]').first().addClass(h))})}};m(window).off("scroll.dynamichashnav resize.dynamichashnav"),0<i?m(window).on("scroll.dynamichashnav resize.dynamichashnav",this.throttleExecution(i,e,!0,!0)):m(window).on("scroll.dynamichashnav resize.dynamichashnav",e),m(window).triggerHandler("scroll.dynamichashnav")}}),m.fn.extend({highDpiBackgroundImage:function(l,c,f,i){l=m.isPlainObject(l)?[l]:l,c=m.isInt(c)?c:m.isSet(c)?m.cssToNumber(m(""+c).css("max-width")):null,f=m.orDefault(f,!1,"bool"),i=m.orDefault(i,500,"int"),m.isSet(c)||(c=m.cssToNumber(m("body").css("max-width")),m.isNaN(c)&&(c=0));var w=this,e=function(){if(m(w).isInDom()){for(var i=[],e="",t="",n=m.contextHasHighDpi(),a=window.innerWidth||m(window).width(),r=0;r<l.length;r++){var s=l[r];if(m.exists("standard.url",s)){m.exists("highdpi",s)||(s.highdpi=m.extend({},s.standard));var h=!m.isSet(s.standard.width,s.standard.height,s.highdpi.width,s.highdpi.height)||f,o={url:s.standard.url,width:s.standard.width,height:s.standard.height};(h&&c/2<a&&n||!h&&n)&&(o.url=s.highdpi.url,o.width=parseInt(s.highdpi.width,10),o.height=parseInt(s.highdpi.height,10)),i.push(o.url),e+=(""!==e?", ":"")+"url("+o.url+")",m.isSet(o.width,o.height)&&0<o.width&&0<o.height&&(t+=(""!==t?", ":"")+o.width+"px "+o.height+"px")}else m.log("highDpiBackgroundImage | image is missing a standard dict:",s)}for(var d=null,u=0,g=0;g<i.length;g++)(d=new Image).src=i[g],m(d).imgLoad(function(){++u>=i.length&&m(w).css("background-image",e).cssCrossBrowser({"background-size":t})})}};return e(),m.jqueryAnnexData.highDpiBackgroundImages.targetClosures.push(e),m(window).off("resize.highdpibackgroundimages").on("resize.highdpibackgroundimages",function(){m.jqueryAnnexData.highDpiBackgroundImages.checkTimer=m.reschedule(m.jqueryAnnexData.highDpiBackgroundImages.checkTimer,i,function(){for(var i=0;i<m.jqueryAnnexData.highDpiBackgroundImages.targetClosures.length;i++)m.jqueryAnnexData.highDpiBackgroundImages.targetClosures[i]()})}),this}}),m});
//# sourceMappingURL=jquery.annex.solutions-plugin.js.map
