!function(i,e){var t=i.jQuery||i.$;if("function"==typeof define&&define.amd)define(["jqueryannex"],e);else if("object"==typeof module&&module.exports){if(!i.__AVA_ENV__)try{t||(t=require("jquery")),t.jqueryAnnexData||(t=require("jqueryannex"))}catch(n){}module.exports=t?e(t):function(i){return e(i)}}else e(t)}("undefined"!=typeof window?window:this,function(i){return function(){if(!i||!i.fn||!i().jquery)throw'jQueryAnnex Solutions Plugin | cannot extend jQuery, since it does not seem to be available as "jQuery" or is missing basic functionality';if(!i.jqueryAnnexData)throw"jQueryAnnex Solutions Plugin | cannot extend jQuery Annex, since it does not seem to be available yet"}(),i.extend(i.jqueryAnnexData,{highDpiBackgroundImages:{targetClosures:[],checkTimer:{id:window.setTimeout(i.noop,1),type:"timeout"}}}),i.extend({setupHashNavHighlighting:function(e,t,n,a,r,s){n=this.orDefault(n,"h2:first","string"),a=this.orDefault(a,"first-visible-headline"),r=this.orDefault(r,250,"int"),s=this.orDefault(s,"active","string");var h=function(){var r=!1;switch(a){case"first-visible-headline":e.removeClass(s),t.each(function(){var t=i(this).find(n).first();if(t.length>0&&t.isInViewport(!0))return e.filter('[href*="#'+i(this).attr("id")+'"]').first().addClass(s),r=!0,!1}),r||t.each(function(){if(i(this).isInViewport())return e.filter('[href*="#'+i(this).attr("id")+'"]').first().addClass(s),r=!0,!1});break;case"headline-at-top":var h=window.innerHeight||i(window).height(),o=i(window).scrollTop()+h>i("body").height()-Math.round(h/10);e.removeClass(s),o?e.filter('[href*="#'+t.last().attr("id")+'"]').first().addClass(s):t.each(function(){var t=i(this).find(n),a=i.isFunction(t.oo().getBoundingClientRect)?t.oo().getBoundingClientRect().top:t.offset().top;a<Math.round(h/10)&&(e.removeClass(s),e.filter('[href*="#'+i(this).attr("id")+'"]').first().addClass(s))})}};i(window).off("scroll.dynamichashnav resize.dynamichashnav"),r>0?i(window).on("scroll.dynamichashnav resize.dynamichashnav",this.throttleExecution(r,h,!0,!0)):i(window).on("scroll.dynamichashnav resize.dynamichashnav",h),i(window).triggerHandler("scroll.dynamichashnav")}}),i.fn.extend({highDpiBackgroundImage:function(e,t,n,a){e=i.isPlainObject(e)?[e]:e,t=i.isInt(t)?t:i.isSet(t)?i.cssToNumber(i(""+t).css("max-width")):null,n=i.orDefault(n,!1,"bool"),a=i.orDefault(a,500,"int"),i.isSet(t)||(t=i.cssToNumber(i("body").css("max-width")),i.isNaN(t)&&(t=0));var r=this,s=function(){if(i(r).isInDom()){for(var a=[],s="",h="",o=i.contextHasHighDpi(),d=window.innerWidth||i(window).width(),u=0;u<e.length;u++){var g=e[u];if(i.exists("standard.url",g)){i.exists("highdpi",g)||(g.highdpi=i.extend({},g.standard));var l=!i.isSet(g.standard.width,g.standard.height,g.highdpi.width,g.highdpi.height)||n,c={url:g.standard.url,width:g.standard.width,height:g.standard.height};(l&&d>t/2&&o||!l&&o)&&(c.url=g.highdpi.url,c.width=parseInt(g.highdpi.width,10),c.height=parseInt(g.highdpi.height,10)),a.push(c.url),s+=(""!==s?", ":"")+"url("+c.url+")",i.isSet(c.width,c.height)&&c.width>0&&c.height>0&&(h+=(""!==h?", ":"")+c.width+"px "+c.height+"px")}else i.log("highDpiBackgroundImage | image is missing a standard dict:",g)}for(var f=null,w=0,m=0;m<a.length;m++)f=new Image,f.src=a[m],i(f).imgLoad(function(){w++,w>=a.length&&i(r).css("background-image",s).cssCrossBrowser({"background-size":h})})}};return s(),i.jqueryAnnexData.highDpiBackgroundImages.targetClosures.push(s),i(window).off("resize.highdpibackgroundimages").on("resize.highdpibackgroundimages",function(){i.jqueryAnnexData.highDpiBackgroundImages.checkTimer=i.reschedule(i.jqueryAnnexData.highDpiBackgroundImages.checkTimer,a,function(){for(var e=0;e<i.jqueryAnnexData.highDpiBackgroundImages.targetClosures.length;e++)i.jqueryAnnexData.highDpiBackgroundImages.targetClosures[e]()})}),this}}),i});
//# sourceMappingURL=jquery.annex.solutions-plugin.js.map
