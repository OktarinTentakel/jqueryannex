!function(a,t){var i=a.jQuery||a.$;if("function"==typeof define&&define.amd)define(["jqueryannex"],t);else if("object"==typeof module&&module.exports){if(!a.__AVA_ENV__)try{(i=i||require("jquery")).jqueryAnnexData||(i=require("jqueryannex"))}catch(a){}module.exports=i?t(i):t}else t(i)}("undefined"!=typeof window?window:this,function(c){if(!c||!c.fn||!c().jquery)throw'jQueryAnnex Validation Plugin | cannot extend jQuery, since it does not seem to be available as "jQuery" or is missing basic functionality';if(c.jqueryAnnexData)return c.extend(c.jqueryAnnexData,{validation:{config:{isValid:!0,messages:[],registeredTargets:{all:[]},globalCallback:c.noop,additionalWidgetEvents:"",validateOnWidgetEvents:!0,defaultValidationData:{isValid:!0,isDirty:!1,isOptional:!1,hasNonOptionalValue:!1,optionalValues:[""],asyncError:!1,asyncCount:0,asyncLeft:0,messages:[],values:[]}},functions:{validate:function(a,s){var r;(s=c.isSet(s)?s:!1)&&!c.jqueryAnnexData.validation.config.validateOnWidgetEvents||(r=a.length,c.jqueryAnnexData.validation.config.isValid=!0,c.jqueryAnnexData.validation.config.messages=[],c.each(a,function(a,t){var i,n,e;c.isSet(t)&&(i=t.data("validationdata"),c.isSet(i)?s&&!i.status.isDirty||(t.first().one("finished.validation",function(a,t){a.stopPropagation(),c.jqueryAnnexData.validation.config.isValid=c.jqueryAnnexData.validation.config.isValid&&t,t||c.merge(c.jqueryAnnexData.validation.config.messages,c(a.target).data("validationdata").status.messages),--r<=0&&(c.jqueryAnnexData.validation.config.globalCallback(c.jqueryAnnexData.validation.config.isValid,c.jqueryAnnexData.validation.config.messages),c(document).trigger("finished.validation",c.jqueryAnnexData.validation.config.isValid))}),n=i.status.isOptional,e=i.status.asyncCount,i.status=c.extend(!0,{},c.jqueryAnnexData.validation.config.defaultValidationData),i.status.isDirty=!0,i.status.isOptional=n,i.status.asyncCount=e,i.status.asyncLeft=e,i.status.values=i.container.formDataToObject()[t.attr("name").replace(/\[\]/,"")],c.isSet(i.status.values)?c.isArray(i.status.values)||(i.status.values=[i.status.values]):i.status.values=[],i.status.isOptional&&c.each(i.status.values,function(a,t){if(-1===c.inArray(t,i.status.optionalValues))return!(i.status.hasNonOptionalValue=!0)}),t.data("validationdata",i),c.jqueryAnnexData.validation.functions.unmarkValidationError(t),i.status.isOptional&&!i.status.hasNonOptionalValue||c.isSet(t.attr("disabled"))?i.status.asyncLeft=0:(c.each(i.rules,function(a,t){i.status.isValid=t()&&i.status.isValid}),i.status.isValid||(c.jqueryAnnexData.validation.functions.markValidationError(t),i.status.asyncLeft<=0&&(c.isSet(i.callback)&&c.isFunction(i.callback)&&i.callback(!1,i.status.messages,t),t.trigger("error.validation",i.status.messages)))),i.status.asyncLeft<=0&&(i.status.isValid&&(c.isSet(i.callback)&&c.isFunction(i.callback)&&i.callback(!0,[],t),t.trigger("success.validation")),t.trigger("finished.validation",i.status.isValid))):t.unsetValidation(!0))}))},markValidationError:function(a){var t=a.data("validationdata").errorContainer;c.isSet(t)&&t.addClass("validationerror"),a.addClass("validationerror")},unmarkValidationError:function(a){var t=a.data("validationdata").errorContainer;c.isSet(t)&&t.removeClass("validationerror"),a.removeClass("validationerror")},asyncCallbackFactory:function(i,n){var e=i.data("validationdata").status,s=i.data("validationdata").callback;return function(a){var t=c.isA(a,"boolean")?a:""===c.trim(""+a);e.asyncError=e.asyncError&&!t,e.isValid=e.isValid&&t,e.asyncLeft--,e.isValid?e.asyncLeft<=0&&(c.isSet(s)&&c.isFunction(s)&&s(!0,[],i),i.trigger("success.validation")):(c.jqueryAnnexData.validation.functions.markValidationError(i),t||(c.isA(a,"string")&&""!==c.trim(""+a)?e.messages.push(c.trim(""+a)):e.messages.push(n)),e.asyncLeft<=0&&(c.isSet(s)&&c.isFunction(s)&&s(!1,e.messages,i),i.trigger("error.validation",e.messages))),e.asyncLeft<=0&&i.trigger("finished.validation",e.isValid)}},asyncErrorCallbackFactory:function(a){var t=a.data("validationdata").status,i=a.data("validationdata").callback;return function(){t.asyncLeft--,t.asyncError=!0,t.isValid=t.isValid&&!t.asyncError,c.jqueryAnnexData.validation.functions.markValidationError(a),t.messages.push("communication error, could not retrieve data from server"),c.log("communication error, could not retrieve data from server"),t.asyncLeft<=0&&(c.isSet(i)&&c.isFunction(i)&&i(!1,t.messages,a),a.trigger("error.validation",t.messages),a.trigger("finished.validation",!1))}}},validators:{customcase:function(a,t){var i,n=!0,e=c(this).data("validationdata").status,s=null;return c.isArray(t)&&t.length<2&&(t=t[0]),c.isFunction(t)?(i=t(c(this),c.jqueryAnnexData.validation.functions.asyncCallbackFactory(c(this),a),c.jqueryAnnexData.validation.functions.asyncErrorCallbackFactory(c(this))),c.isSet(i)&&(c.isA(i,"boolean")?n=i:""!==c.trim(""+i)&&(n=!1,s=c.trim(""+i)))):c.isA(t,"boolean")?n=t:""!==c.trim(""+t)&&(n=!1,s=c.trim(""+t)),(c.isSet(s)||!n&&c.isSet(a)&&""!==c.trim(a))&&e.messages.push(a),n},required:function(a){var t=!0,i=c(this).data("validationdata").status;return!(t=1===i.values.length?""!==i.values[0]:0<i.values.length)&&c.isSet(a)&&""!==a&&i.messages.push(a),t},notempty:function(a){var t=Array.prototype.slice.call(arguments,1),i=!0,n=c(this).data("validationdata").status,e=[""];return c.merge(e,t),!(i=1===n.values.length?-1===c.inArray(c.trim(n.values[0]),e):0!==n.values.length)&&c.isSet(a)&&""!==c.trim(a)&&n.messages.push(a),i},optional:function(){return!0},minlength:function(a,t){t=parseInt(t,10);var i=!0,n=c(this).data("validationdata").status;return!(i=1===n.values.length?n.values[0].length>=t:n.values.length>=t)&&c.isSet(a)&&""!==c.trim(a)&&n.messages.push(a),i},maxlength:function(a,t){t=parseInt(t,10);var i=!0,n=c(this).data("validationdata").status;return!(i=1===n.values.length?n.values[0].length<=t:n.values.length<=t)&&c.isSet(a)&&""!==c.trim(a)&&n.messages.push(a),i},rangelength:function(a,t,i){var n=!0,e=c(this).data("validationdata").status;return!(n=c.isSet(t,i)?c.proxy(c.jqueryAnnexData.validation.validators.minlength,c(this),null,t)()&&c.proxy(c.jqueryAnnexData.validation.validators.maxlength,c(this),null,i)():n)&&c.isSet(a)&&""!==c.trim(a)&&e.messages.push(a),n},min:function(a,i){var n=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){if(!(n=n&&c.isNumeric(t)&&parseInt(t,10)>=i))return!1}),!n&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),n},max:function(a,i){var n=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){if(!(n=n&&c.isNumeric(t)&&parseInt(t,10)<=i))return!1}),!n&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),n},range:function(a,t,i){var n=!0,e=c(this).data("validationdata").status;return!(n=c.isSet(t,i)?c.proxy(c.jqueryAnnexData.validation.validators.min,c(this),null,t)()&&c.proxy(c.jqueryAnnexData.validation.validators.max,c(this),null,i)():n)&&c.isSet(a)&&""!==c.trim(a)&&e.messages.push(a),n},email:function(a){var r=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){var i=/^[^@]{1,64}@[^@]{1,255}$/.test(t);if(i){for(var t=t.split("@"),n=t[0].split("."),e=0;e<n.length;e++)/^(([A-Za-z0-9!#$%&'*+\/=?^_`{|}~-][A-Za-z0-9!#$%&'*+\/=?^_`{|}~\.-]{0,63})|(\\\"[^(\\|\\\")]{0,62}\\\"))$/.test(n[e])||(i=!1);var s;if(!/^\[?[0-9\.]+\]?$/.test(t[1]))for((s=t[1].split(".")).length<2&&(i=!1),e=0;e<s.length;e++)/^(([A-Za-z0-9][A-Za-z0-9-]{0,61}[A-Za-z0-9])|([A-Za-z0-9]{2,5}))$/.test(s[e])||(i=!1)}if(!(r=r&&i))return!1}),!r&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),r},url:function(a){var i=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){if(!(i=i&&/^(https?|ftp)\:\/\/([a-z0-9+!*(),;?&=$_.-]+(\:[a-z0-9+!*(),;?&=$_.-]+)?@)?([a-z0-9+$_-]+\.)*[a-z0-9+$_-]{2,3}(\:[0-9]{2,5})?(\/([a-z0-9+$_-]\.?)+)*\/?(\?[a-z+&$_.-][a-z0-9;:@\/&%=+$_.-]*)?(#[a-z_.-][a-z0-9+$_.-]*)?$/.test(t)))return!1}),!i&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),i},date:function(a,s){var r=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){c.isSet(s)&&"__internal__"===s&&(t=2<=(i=t.split(" ")).length?c.trim(i[0]):"");var i=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[1-2][0-9]|3[0-1])\/([1-2][0-9]{3})$/.test(t),n=i?t.split("/"):null;if(i)for(var e=0;e<2;e++)n[e].length<2&&(n[e]="0"+n[e]);t=i?new Date(n[2]+"-"+n[0]+"-"+n[1]):null,i=null!==t&&null!==n&&(!/Invalid|NaN/.test(t)&&parseInt(n[0],10)===t.getMonth()+1&&parseInt(n[1],10)===t.getDate()&&parseInt(n[2],10)===t.getFullYear());if(!(r=r&&i))return!1}),!r&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),r},time:function(a,n){var e=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){c.isSet(n)&&"__internal__"===n&&(2<=(i=t.split(" ")).length?(t=c.trim(i[1]),3<=i.length&&(t+=" "+c.trim(i[2]))):t="");var i=/^((0?[0-9]|1[0-1])\:[0-5][0-9](\:[0-5][0-9])? ?(am|AM|pm|PM)|12\:[0-5][0-9](\:[0-5][0-9])? ?(pm|PM))$/.test(t);if(!(e=e&&i))return!1}),!e&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),e},datetime:function(a){var t,i=c(this).data("validationdata").status;return!(t=c.proxy(c.jqueryAnnexData.validation.validators.date,c(this),null,"__internal__")()&&c.proxy(c.jqueryAnnexData.validation.validators.time,c(this),null,"__internal__")())&&c.isSet(a)&&""!==c.trim(a)&&i.messages.push(a),t},dateISO:function(a,s){var r=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){c.isSet(s)&&"__internal__"===s&&(t=2<=(i=t.replace(/T/," ").split(" ")).length?c.trim(i[0]):"");var i=/^([1-2][0-9]{3})\-(0?[1-9]|1[0-2])\-(0?[1-9]|[1-2][0-9]|3[0-1])$/.test(t),n=i?t.split("-"):null;if(i)for(var e=1;e<3;e++)n[e].length<2&&(n[e]="0"+n[e]);t=i?new Date(parseInt(n[0],10),parseInt(n[1],10)-1,parseInt(n[2],10)):null,i=null!==t&&null!==n&&(!/Invalid|NaN/.test(t)&&parseInt(n[0],10)===t.getFullYear()&&parseInt(n[1],10)===t.getMonth()+1&&parseInt(n[2],10)===t.getDate());if(!(r=r&&i))return!1}),!r&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),r},timeISO:function(a,n){var e=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){c.isSet(n)&&"__internal__"===n&&(t=2<=(i=t.replace(/T/," ").split(" ")).length?c.trim(i[1]):"");var i=/^([0-1][0-9]|2[0-3])\:[0-5][0-9]\:[0-5][0-9]$/.test(t);if(!(e=e&&i))return!1}),!e&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),e},datetimeISO:function(a){var t,i=c(this).data("validationdata").status;return!(t=c.proxy(c.jqueryAnnexData.validation.validators.dateISO,c(this),null,"__internal__")()&&c.proxy(c.jqueryAnnexData.validation.validators.timeISO,c(this),null,"__internal__")())&&c.isSet(a)&&""!==c.trim(a)&&i.messages.push(a),t},dateDE:function(a,s){var r=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){c.isSet(s)&&"__internal__"===s&&(t=2<=(i=t.split(" ")).length?c.trim(i[0]):"");var i=/^(0?[1-9]|[1-2][0-9]|3[0-1])\.(0?[1-9]|1[0-2])\.([1-2][0-9]{3})$/.test(t),n=i?t.split("."):null;if(i)for(var e=0;e<2;e++)n[e].length<2&&(n[e]="0"+n[e]);t=i?new Date(parseInt(n[2],10),parseInt(n[1],10)-1,parseInt(n[0],10)):null,i=null!==t&&null!==n&&(!/Invalid|NaN/.test(t)&&parseInt(n[0],10)===t.getDate()&&parseInt(n[1],10)===t.getMonth()+1&&parseInt(n[2],10)===t.getFullYear());if(!(r=r&&i))return!1}),!r&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),r},timeDE:function(a,n){var e=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){c.isSet(n)&&"__internal__"===n&&(t=2<=(i=t.split(" ")).length?c.trim(i[1]):"");var i=/^([0-1][0-9]|2[0-3])\:[0-5][0-9](\:[0-5][0-9])?h?$/.test(t);if(!(e=e&&i))return!1}),!e&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),e},datetimeDE:function(a){var t,i=c(this).data("validationdata").status;return!(t=c.proxy(c.jqueryAnnexData.validation.validators.dateDE,c(this),null,"__internal__")()&&c.proxy(c.jqueryAnnexData.validation.validators.timeDE,c(this),null,"__internal__")())&&c.isSet(a)&&""!==c.trim(a)&&i.messages.push(a),t},number:function(a){var i=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){if(!(i=i&&(t===""+parseInt(t,10)||t===""+parseFloat(t))))return!1}),!i&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),i},numberDE:function(a){var n=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){var i=(i=/^[0-9]+(\,[0-9]+)?$/.test(t))&&((t=t.replace(/\,/g,"."))===""+parseInt(t,10)||t===""+parseFloat(t));if(!(n=n&&i))return!1}),!n&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),n},digits:function(a){var i=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){if(!(i=i&&/^[0-9]+$/.test(t)))return!1}),!i&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),i},creditcard:function(a){var i=!0,t=c(this).data("validationdata").status;return c.each(t.values,function(a,t){if(!(i=i&&/^[0-9]{3,4}\-[0-9]{4}\-[0-9]{4}\-[0-9]{4}$/.test(t)))return!1}),!i&&c.isSet(a)&&""!==c.trim(a)&&t.messages.push(a),i},characterclass:function(a,t){var i=!0,n=c(this).data("validationdata").status,e=new RegExp("^["+t+"]*$");return c.each(n.values,function(a,t){if(!(i=i&&e.test(t)))return!1}),!i&&c.isSet(a)&&""!==c.trim(a)&&n.messages.push(a),i}}}}),c.extend({triggerValidation:function(a){a=c.orDefault(a,"all","string"),c.jqueryAnnexData.validation.functions.validate(c.jqueryAnnexData.validation.config.registeredTargets[a])},executeOnValidation:function(a){c.assert(c.isFunction(a),"executeOnValidation | callback is no function"),c.jqueryAnnexData.validation.config.globalCallback=a},validationIsTriggeredByWidgetEvents:function(a){c.jqueryAnnexData.validation.config.validateOnWidgetEvents=a=!!a},setAdditionalValidationWidgetEvents:function(a){c.assert(c.isArray(a),"events need to be an array");var i="";c.each(a,function(a,t){i+=t+".validation "}),i=" "+c.trim(i),c.jqueryAnnexData.validation.config.additionalWidgetEvents=i},setValidationFromTags:function(){c(":input[data-validation]").each(function(){var a,t,i,n,e;(c.isPlainObject(c(this).data("validation"))||c.isArray(c(this).data("validation")))&&(a=c.isSet(c(this).data("validation-callback"))&&c.isFunction(c(this).data("validation-callback"))?c(this).data("validation-callback"):null,t=c.isSet(c(this).data("validation-errorcontainer"))&&c.exists(c(this).data("validation-errorcontainer"))?c(this).data("validation-errorcontainer"):null,i=c.isSet(c(this).data("validation-container"))&&c.exists(c(this).data("validation-container"))?c(this).data("validation-container"):null,n=c.isSet(c(this).data("validation-targetgroup"))?c(this).data("validation-targetgroup"):null,e=!!c.isSet(c(this).data("validation-suppresssubmit"))&&"true"===c(this).data("validation-suppresssubmit"),c(this).setValidation(c(this).data("validation"),a,t,i,n,e))})}}),c.fn.extend({setValidation:function(n,e,o,u,d,i){return n=c.orDefault(n,[],"array"),d=c.orDefault(d,"all","string"),i=c.orDefault(i,!1,"bool"),c.isSet(u)?u=u.find(":input"):(u=c(this).closest("form"),c.exists(u)?(u.off("submit.validation"),u.on("submit.validation",function(a,t){c.isSet(t)?t&&!i||a.preventDefault():(a.preventDefault(),c(document).one("finished.validation",function(a,t){u.trigger("submit.validation",t)}),c.jqueryAnnexData.validation.functions.validate(c.jqueryAnnexData.validation.config.registeredTargets[d]))})):u=c(this)),c(this).each(function(){c.assert(c(this).is(":input"),"setValidation | element is no value-bearing form element"),c.assert(c.isSet(c(this).attr("name")),'setValidation | element has no attribute "name"');var s=this,r=(c(this).removeData("validationdata"),{status:c.extend({},c.jqueryAnnexData.validation.config.defaultValidationData),rules:{},callback:e,container:u,errorContainer:o}),l=0,t=(c.each(n,function(a,t){var i,n,e=c.objectLength(t);c.isPlainObject(t)&&1<=e&&e<=2&&(2===e&&c.assert(c.exists("args",t)),i=n=null,e=c.exists("args",t)?c.isArray(t.args)?t.args:[t.args]:[],c.each(t,function(a,t){if("args"!==a)return n=a,i=t,!1}),c.isSet(n)&&(t=1<(n=n.split("_async")).length,"optional"===(n=n[0])&&(r.status.isOptional=!0,c.merge(r.status.optionalValues,e)),c.isFunction(c.jqueryAnnexData.validation.validators[n])&&(t&&l++,r.rules[n+"_"+c.randomUuid(!0)]=c.proxy.apply(c,c.merge([],c.merge([c.jqueryAnnexData.validation.validators[n],c(s),""+c.trim(i)],e))))))}),r.status.asyncCount=l,c.jqueryAnnexData.validation.config.registeredTargets.all.push(c(this)),"all"!==d&&(c.isSet(c.jqueryAnnexData.validation.config.registeredTargets[d])||(c.jqueryAnnexData.validation.config.registeredTargets[d]=[]),c.jqueryAnnexData.validation.config.registeredTargets[d].push(c(this))),null),i=null,a=u.find('[name="'+c(this).attr("name")+'"]');(a=0===a.length?u.filter('[name="'+c(this).attr("name")+'"]'):a).each(function(){c(this).data("validationdata",r).off("change.validation blur.validation focus.validation"+c.jqueryAnnexData.validation.config.additionalWidgetEvents).on("change.validation blur.validation"+c.jqueryAnnexData.validation.config.additionalWidgetEvents,function(){var a=this;c.countermand(t),t=c.schedule(10,function(){c(a).data("validationdata").status.isDirty=!0,c.jqueryAnnexData.validation.functions.validate(c.jqueryAnnexData.validation.config.registeredTargets[d],!0)})}).on("focus.validation",function(){var a=this;c.countermand(i),i=c.schedule(10,function(){c(a).data("validationdata").status.isDirty=!0})})})}),this},unsetValidation:function(t,i){return t=c.orDefault(t,!1,"bool"),i=c.isSet(i)&&c.jqueryAnnexData.validation.config.registeredTargets[i]?""+i:null,c(this).each(function(){c.assert(c(this).is(":input"),"unsetValidation | element is no value-bearing form element"),c.assert(c.isSet(c(this).attr("name")),'unsetValidation | element has no attribute "name"');var a,e=this;(c.isSet(c(this).data("validationdata"))||t)&&(c(this).removeData("validationdata"),a={},c.isSet(i)?(a.all=c.jqueryAnnexData.validation.config.registeredTargets.all,a[i]=c.jqueryAnnexData.validation.config.registeredTargets[i]):a=c.jqueryAnnexData.validation.config.registeredTargets,c.each(a,function(a,t){if(c.isSet(t)){for(var i=-1,n=0;n<t.length;n++)if(c(e).attr("name")===t[n].attr("name")){i=n;break}0<=i&&(c.jqueryAnnexData.validation.config.registeredTargets[a]=c.removeFromArray(c.jqueryAnnexData.validation.config.registeredTargets[a],i)),0===c.jqueryAnnexData.validation.config.registeredTargets[a].length&&(c(this).closest("form").off("submit.validation"),"all"!==a&&delete c.jqueryAnnexData.validation.config.registeredTargets[a])}}),c(this).off("change.validation blur.validation"+c.jqueryAnnexData.validation.config.additionalWidgetEvents))}),this}}),c;throw"jQueryAnnex Validation Plugin | cannot extend jQuery Annex, since it does not seem to be available yet"});
//# sourceMappingURL=jquery.annex.validation-plugin.js.map
