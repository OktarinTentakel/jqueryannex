{"version":3,"sources":["jquery.annex.solutions-plugin.js"],"names":["global","factory","jQuery","$","define","amd","module","exports","__AVA_ENV__","require","jqueryAnnexData","ex","window","this","fn","jquery","extend","highDpiBackgroundImages","targetClosures","checkTimer","id","setTimeout","noop","type","setupHashNavHighlighting","$navElements","$sectionElements","headlineSelector","algorithm","throttleMs","activeClass","orDefault","fHandler","found","removeClass","each","$headline","find","first","length","isInViewport","filter","attr","addClass","viewportHeight","innerHeight","height","userHasScrolledToPageBottom","scrollTop","Math","round","last","headlineTop","isFunction","oo","getBoundingClientRect","top","offset","off","on","throttleExecution","triggerHandler","highDpiBackgroundImage","images","pageMaxWidth","ignoreDims","reactionDelayMs","isPlainObject","isInt","isSet","cssToNumber","css","isNaN","_this_","fSelectImageVersion","isInDom","imagesToPreload","cssImgUrls","cssImgSizes","highDpi","contextHasHighDpi","vpWidth","innerWidth","width","imageIndex","image","exists","highdpi","standard","smartAdapt","imageToUse","url","parseInt","push","log","preloadImage","preloadedCount","imageToPreloadIndex","Image","src","imgLoad","cssCrossBrowser","background-size","reschedule","i"],"mappings":"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","file":"jquery.annex.solutions-plugin.js","sourcesContent":["/**\n * jQueryAnnex - Solution Plugin\n * Provides complex interface solutions too specific, big and/or complicated to be included in the base lib, since\n * they are too special and complex to be relevant for most projects.\n * \n * Think about complete generic solutions for common problems like building a dynamic hash navigation or initializing\n * responsive background images for an element. There's also a good chance these solutions might be too generic for your\n * purpose and do not offer enough flexibility. So you may either include them if needed or at least use them as a reference\n * or starting point for your own solution.\n *\n * Have a look at the plugin-solutions-example.html in the repository for example usage and test it locally in\n * your browser.\n *\n * @author Sebastian Schlapkohl <jqueryannex@ifschleife.de>\n * @version Revision 41 developed and tested with jQuery 3.3.1, 2.2.4 and 1.12.4\n **/\n\n\n\n// automatically determine if annex should be loaded traditionally, as an AMD-module or via commonjs, if included before anything that\n// exposes \"define\" (require.js e.g.), it will load normally, extending jQuery directly and globally\n// if loaded as AMD-module it expects Annex to be available as \"jqueryannex\"\n(function(global, factory){\n\tvar jQuery = global.jQuery || global.$;\n\n\tif( (typeof define === 'function') && define.amd ){\n\t\tdefine(['jqueryannex'], factory);\n\t} else if( (typeof module === 'object') && module.exports ){\n\t\tif( !global.__AVA_ENV__ ){\n\t\t\ttry {\n\t\t\t\tif( !jQuery ){\n\t\t\t\t\tjQuery = require('jquery');\n\t\t\t\t}\n\n\t\t\t\tif( !jQuery.jqueryAnnexData ){\n\t\t\t\t\tjQuery = require('jqueryannex');\n\t\t\t\t}\n\t\t\t} catch(ex){}\n\t\t}\n\n\t\tmodule.exports = jQuery\n\t\t\t? factory(jQuery)\n\t\t\t: function(jQuery){\n\t\t\t\treturn factory(jQuery);\n\t\t\t}\n\t\t;\n\t} else {\n\t\tfactory(jQuery);\n\t}\n}((typeof window !== 'undefined') ? window : this, function($){\n\n\t//--|CHECK-AND-PREPARE-JQUERY----------\n\n\t(function(){\n\t\tif( !$ || !$.fn || !$().jquery ){\n\t\t\tthrow 'jQueryAnnex Solutions Plugin | cannot extend jQuery, since it does not seem to be available as \"jQuery\" or is missing basic functionality';\n\t\t}\n\n\t\tif( !$.jqueryAnnexData ){\n\t\t\tthrow 'jQueryAnnex Solutions Plugin | cannot extend jQuery Annex, since it does not seem to be available yet';\n\t\t}\n\t}());\n\n\n\n\t//--|JQUERYANNEXDATA----------\n\n\t$.extend($.jqueryAnnexData, {\n\t\thighDpiBackgroundImages : {\n\t\t\ttargetClosures : [],\n\t\t\tcheckTimer : {id : window.setTimeout($.noop, 1), type : 'timeout'}\n\t\t}\n\t});\n\n\n\n\t//--|JQUERY-$-GENERAL-FUNCTIONS----------\n\n\t$.extend({\n\n\t\t/**\n\t\t * @namespace Navigation:$.setupHashNavHighlighting\n\t\t **/\n\n\t\t/**\n\t\t * Defines the default logic for an innerpage hashnav, where the currently visible section should automatically\n\t\t * be highlighted while scrolling. This solution is based on elements containing a headline stating the nav title,\n\t\t * being in a container constituting a nav section. The section has to bear the id, referenced in the nav items\n\t\t * href. The href may be with or without leading path, but may only include _one_ #.\n\t\t *\n\t\t * @param {Object} $navElements - the jQuery-collection of nav elements to highlight, each bearing the href and getting the activeClass\n\t\t * @param {Object} [$sectionElements] - the jQuery-collection of section elements, containing some kind of headline and bearing the id\n\t\t * @param {?String} [headlineSelector='h2:first'] - the jQuery selector to find the headline element by in a section\n\t\t * @param {?('first-visible-headline'|'headline-at-top')} [algorithm='first-visible-headline'] - defines the algorithm by which $navElements are set active\n\t\t * @param {?Number.Integer} [throttleMs=250] - the minimum interval in which the scroll handler is fired, 0 disables throttling\n\t\t * @param {?String} [activeClass='active'] - the class to set upon the active nav element\n\t\t *\n\t\t * @memberof Navigation:$.setupHashNavHighlighting\n\t\t * @example\n\t\t * $.setupHashNavHighlighting($('#subnav a[href^=\"#\"]'), $('main section'), 'h2', 'headline-at-top', 400, 'highlight')\n\t\t **/\n\t\tsetupHashNavHighlighting : function($navElements, $sectionElements, headlineSelector, algorithm, throttleMs, activeClass){\n\t\t\theadlineSelector = this.orDefault(headlineSelector, 'h2:first', 'string');\n\t\t\talgorithm = this.orDefault(algorithm, 'first-visible-headline');\n\t\t\tthrottleMs = this.orDefault(throttleMs, 250, 'int');\n\t\t\tactiveClass = this.orDefault(activeClass, 'active', 'string');\n\n\t\t\tvar fHandler = function(){\n\t\t\t\tvar found = false;\n\n\t\t\t\tswitch( algorithm ){\n\t\t\t\t\tcase 'first-visible-headline':\n\t\t\t\t\t\t$navElements.removeClass(activeClass);\n\t\t\t\t\t\t$sectionElements.each(function(){\n\t\t\t\t\t\t\tvar $headline = $(this).find(headlineSelector).first();\n\n\t\t\t\t\t\t\tif( ($headline.length > 0) &&  $headline.isInViewport(true) ){\n\t\t\t\t\t\t\t\t$navElements.filter('[href*=\"#'+$(this).attr('id')+'\"]').first().addClass(activeClass);\n\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif( !found ){\n\t\t\t\t\t\t\t$sectionElements.each(function(){\n\t\t\t\t\t\t\t\tif( $(this).isInViewport() ){\n\t\t\t\t\t\t\t\t\t$navElements.filter('[href*=\"#'+$(this).attr('id')+'\"]').first().addClass(activeClass);\n\t\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'headline-at-top':\n\t\t\t\t\t\tvar viewportHeight = window.innerHeight || $(window).height(),\n\t\t\t\t            userHasScrolledToPageBottom = ($(window).scrollTop() + viewportHeight) > ($('body').height() - Math.round(viewportHeight / 10));\n\n\t\t\t\t\t\t$navElements.removeClass(activeClass);\n\t\t\t\t\t\tif( !userHasScrolledToPageBottom ){\n\t\t\t\t            $sectionElements.each(function(){\n\t\t\t\t                var $headline = $(this).find(headlineSelector),\n\t\t\t\t\t\t\t\t\theadlineTop = $.isFunction($headline.oo().getBoundingClientRect) ? $headline.oo().getBoundingClientRect().top : $headline.offset().top;\n\n\t\t\t\t                if( headlineTop < Math.round(viewportHeight / 10) ){\n\t\t\t\t\t\t\t\t\t$navElements.removeClass(activeClass);\n\t\t\t\t\t\t\t\t\t$navElements.filter('[href*=\"#'+$(this).attr('id')+'\"]').first().addClass(activeClass);\n\t\t\t\t                }\n\t\t\t\t            });\n\t\t\t\t        } else {\n\t\t\t\t\t\t\t$navElements.filter('[href*=\"#'+$sectionElements.last().attr('id')+'\"]').first().addClass(activeClass);\n\t\t\t\t        }\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$(window).off('scroll.dynamichashnav resize.dynamichashnav');\n\t\t\tif( throttleMs > 0 ){\n\t\t\t\t$(window).on('scroll.dynamichashnav resize.dynamichashnav', this.throttleExecution(throttleMs, fHandler, true, true));\n\t\t\t} else {\n\t\t\t\t$(window).on('scroll.dynamichashnav resize.dynamichashnav', fHandler);\n\t\t\t}\n\t\t\t$(window).triggerHandler('scroll.dynamichashnav');\n\t\t}\n\n\t});\n\n\n\n\t//--|JQUERY-OBJECT-GENERAL-FUNCTIONS----------\n\n\t$.fn.extend({\n\n\t\t/**\n\t\t * @namespace Images:$fn.highDpiBackgroundImage\n\t\t **/\n\n\t\t/**\n\t\t * Configures and sets the element's background image to a normal or highdpi-version depending on the display context.\n\t\t *\n\t\t * images is an array of the form [{}, {}, ...], where each object should look like this (widths and heights being optional):\n\t\t * {standard : {url : '...', width : 150, height : 150}, highdpi : {url : '...', width : 150, height : 150}}\n\t\t * To supply a single background you can also just provide one object.\n\t\t *\n\t\t * This function tries to implement a smart way of selecting the right image version.\n\t\t * If image/container dimensions are set the highdpi-version is chosen based on contextHasHighDpi(), but if\n\t\t * dimensions were not defined, it's tried to determine the maxpage width, either per pageMaxWidth or by looking\n\t\t * at css max-width of body and the high dpi is only applied if the viewport is larger than half the max size, so\n\t\t * we'll never load giant images unnecessarily on small devices, although they may have high dpi. You can force this\n\t\t * behaviour with ignoreDims.\n\t\t *\n\t\t * All images hooked via this function are polled and adapted with a delay after each resize.\n\t\t *\n\t\t * If no dimensions are set on the image the element's css is resposible to set a background-size value.\n\t\t *\n\t\t * @param  {(Object|Array)} images - the image(s) to apply, see definition in description above\n\t\t * @param  {?(Number.Integer|String)} [pageMaxWidth=*max-width of body or 0*] - either the page max size directly or a selector to get the max-size from via css\n\t\t * @param  {?Boolean} [ignoreDims=false] - if set, always tries to keep viewport vs. page max size in mind before setting image version, even if dims are set\n\t\t * @param  {?Number.Integer} [reactionDelayMs=500] - the delay after each window resize before the images are checked and adapted\n\t\t * @returns {Object} this\n\t\t *\n\t\t * @memberof Images:$fn.highDpiBackgroundImage\n\t\t * @example\n\t\t * $('.poster').highDpiBackgroundImage({standard : {url : '..', width : 150, height : 150}, highdpi : {url : '..', width : 300, height : 300}}, 1200, true, 1000);\n\t\t **/\n\t\thighDpiBackgroundImage : function(images, pageMaxWidth, ignoreDims, reactionDelayMs){\n\t\t\timages = $.isPlainObject(images) ? [images] : images;\n\t\t\tpageMaxWidth = $.isInt(pageMaxWidth) ? pageMaxWidth : ($.isSet(pageMaxWidth) ? $.cssToNumber($(''+pageMaxWidth).css('max-width')) : null);\n\t\t\tignoreDims = $.orDefault(ignoreDims, false, 'bool');\n\t\t\treactionDelayMs = $.orDefault(reactionDelayMs, 500, 'int');\n\n\t\t\tif( !$.isSet(pageMaxWidth) ){\n\t\t\t\tpageMaxWidth = $.cssToNumber($('body').css('max-width'));\n\n\t\t\t\tif( $.isNaN(pageMaxWidth) ){\n\t\t\t\t\tpageMaxWidth = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar _this_ = this;\n\n\t\t\tvar fSelectImageVersion = function(){\n\t\t\t\tif( $(_this_).isInDom() ){\n\t\t\t\t\tvar imagesToPreload = [],\n\t\t\t\t\t\tcssImgUrls = '',\n\t\t\t\t\t\tcssImgSizes = '',\n\t\t\t\t\t\thighDpi = $.contextHasHighDpi(),\n\t\t\t\t\t\tvpWidth = window.innerWidth || $(window).width();\n\n\t\t\t\t\tfor( var imageIndex = 0; imageIndex < images.length; imageIndex++ ){\n\t\t\t\t\t\tvar image = images[imageIndex];\n\n\t\t\t\t\t\tif( $.exists('standard.url', image) ){\n\t\t\t\t\t\t\tif( !$.exists('highdpi', image)  ){\n\t\t\t\t\t\t\t\timage.highdpi = $.extend({}, image.standard);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar smartAdapt = !$.isSet(image.standard.width, image.standard.height, image.highdpi.width, image.highdpi.height) || ignoreDims,\n\t\t\t\t\t\t\t\timageToUse = {\n\t\t\t\t\t\t\t\t\turl : image.standard.url,\n\t\t\t\t\t\t\t\t\twidth: image.standard.width,\n\t\t\t\t\t\t\t\t\theight : image.standard.height\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t;\n\n\t\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t\t(smartAdapt && (vpWidth > (pageMaxWidth / 2)) && highDpi)\n\t\t\t\t\t\t\t\t|| (!smartAdapt && highDpi)\n\t\t\t\t\t\t\t){\n\t\t\t\t\t\t\t\timageToUse.url = image.highdpi.url;\n\t\t\t\t\t\t\t\timageToUse.width = parseInt(image.highdpi.width, 10);\n\t\t\t\t\t\t\t\timageToUse.height = parseInt(image.highdpi.height, 10);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\timagesToPreload.push(imageToUse.url);\n\t\t\t\t\t\t\tcssImgUrls += ((cssImgUrls !== '') ? ', ' : '') + 'url('+imageToUse.url+')';\n\t\t\t\t\t\t\tif( $.isSet(imageToUse.width, imageToUse.height) && (imageToUse.width > 0) && (imageToUse.height > 0) ){\n\t\t\t\t\t\t\t\tcssImgSizes += ((cssImgSizes !== '') ? ', ' : '') + imageToUse.width+'px '+imageToUse.height+'px';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$.log('highDpiBackgroundImage | image is missing a standard dict:', image);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar preloadImage = null,\n\t\t\t\t\t\tpreloadedCount = 0;\n\n\t\t\t\t\tfor( var imageToPreloadIndex = 0; imageToPreloadIndex < imagesToPreload.length; imageToPreloadIndex++ ){\n\t\t\t\t\t\tpreloadImage = new Image();\n\t\t\t\t\t\tpreloadImage.src = imagesToPreload[imageToPreloadIndex];\n\t\t\t\t\t\t$(preloadImage).imgLoad(function(){\n\t\t\t\t\t\t\tpreloadedCount++;\n\t\t\t\t\t\t\tif( preloadedCount >= imagesToPreload.length ){\n\t\t\t\t\t\t\t\t$(_this_)\n\t\t\t\t\t\t\t\t\t.css('background-image', cssImgUrls)\n\t\t\t\t\t\t\t\t\t.cssCrossBrowser({'background-size' : cssImgSizes})\n\t\t\t\t\t\t\t\t;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfSelectImageVersion();\n\t\t\t$.jqueryAnnexData.highDpiBackgroundImages.targetClosures.push(fSelectImageVersion);\n\n\t\t\t$(window)\n\t\t\t\t.off('resize.highdpibackgroundimages')\n\t\t\t\t.on('resize.highdpibackgroundimages', function(){\n\t\t\t\t\t$.jqueryAnnexData.highDpiBackgroundImages.checkTimer = $.reschedule(\n\t\t\t\t\t\t$.jqueryAnnexData.highDpiBackgroundImages.checkTimer,\n\t\t\t\t\t\treactionDelayMs,\n\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\tfor( var i = 0; i < $.jqueryAnnexData.highDpiBackgroundImages.targetClosures.length; i++ ){\n\t\t\t\t\t\t\t\t$.jqueryAnnexData.highDpiBackgroundImages.targetClosures[i]();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t;\n\n\t\t\treturn this;\n\t\t}\n\n\t});\n\n\treturn $;\n\n}));\n"]}