{"version":3,"file":"jquery.annex.solutions-plugin.js","sources":["jquery.annex.solutions-plugin.js"],"sourcesContent":["/**\n * jQueryAnnex - Solution Plugin\n * Provides complex interface solutions too specific, big and/or complicated to be included in the base lib, since\n * they are too special and complex to be relevant for most projects.\n *\n * Think about complete generic solutions for common problems like building a dynamic hash navigation or initializing\n * responsive background images for an element. There's also a good chance these solutions might be too generic for your\n * purpose and do not offer enough flexibility. So you may either include them if needed or at least use them as a reference\n * or starting point for your own solution.\n *\n * Have a look at the plugin-solutions-example.html in the repository for example usage and test it locally in\n * your browser.\n *\n * @author Sebastian Schlapkohl <jqueryannex@ifschleife.de>\n * @version Revision 45 developed and tested with jQuery 3.6.1, 2.2.4 and 1.12.4\n **/\n\n\n\n// automatically determine if annex should be loaded traditionally, as an AMD-module or via commonjs, if included before anything that\n// exposes \"define\" (require.js e.g.), it will load normally, extending jQuery directly and globally\n// if loaded as AMD-module it expects Annex to be available as \"jqueryannex\"\n(function(global, factory){\n\tvar jQuery = global.jQuery || global.$;\n\n\tif( (typeof define === 'function') && define.amd ){\n\t\tdefine(['jqueryannex'], factory);\n\t} else if( (typeof module === 'object') && module.exports ){\n\t\tif( !global.__AVA_ENV__ ){\n\t\t\ttry {\n\t\t\t\tif( !jQuery ){\n\t\t\t\t\tjQuery = require('jquery');\n\t\t\t\t}\n\n\t\t\t\tif( !jQuery.jqueryAnnexData ){\n\t\t\t\t\tjQuery = require('jqueryannex');\n\t\t\t\t}\n\t\t\t} catch(ex){}\n\t\t}\n\n\t\tmodule.exports = jQuery\n\t\t\t? factory(jQuery)\n\t\t\t: function(jQuery){\n\t\t\t\treturn factory(jQuery);\n\t\t\t}\n\t\t;\n\t} else {\n\t\tfactory(jQuery);\n\t}\n}((typeof window !== 'undefined') ? window : this, function($){\n\n\t//--|CHECK-AND-PREPARE-JQUERY----------\n\n\t(function(){\n\t\tif( !$ || !$.fn || !$().jquery ){\n\t\t\tthrow 'jQueryAnnex Solutions Plugin | cannot extend jQuery, since it does not seem to be available as \"jQuery\" or is missing basic functionality';\n\t\t}\n\n\t\tif( !$.jqueryAnnexData ){\n\t\t\tthrow 'jQueryAnnex Solutions Plugin | cannot extend jQuery Annex, since it does not seem to be available yet';\n\t\t}\n\t}());\n\n\n\n\t//--|JQUERYANNEXDATA----------\n\n\t$.extend($.jqueryAnnexData, {\n\t\thighDpiBackgroundImages : {\n\t\t\ttargetClosures : [],\n\t\t\tcheckTimer : {id : window.setTimeout($.noop, 1), type : 'timeout'}\n\t\t}\n\t});\n\n\n\n\t//--|JQUERY-$-GENERAL-FUNCTIONS----------\n\n\t$.extend({\n\n\t\t/**\n\t\t * @namespace Navigation:$.setupHashNavHighlighting\n\t\t **/\n\n\t\t/**\n\t\t * Defines the default logic for an innerpage hashnav, where the currently visible section should automatically\n\t\t * be highlighted while scrolling. This solution is based on elements containing a headline stating the nav title,\n\t\t * being in a container constituting a nav section. The section has to bear the id, referenced in the nav items\n\t\t * href. The href may be with or without leading path, but may only include _one_ #.\n\t\t *\n\t\t * @param {Object} $navElements - the jQuery-collection of nav elements to highlight, each bearing the href and getting the activeClass\n\t\t * @param {Object} [$sectionElements] - the jQuery-collection of section elements, containing some kind of headline and bearing the id\n\t\t * @param {?String} [headlineSelector='h2:first'] - the jQuery selector to find the headline element by in a section\n\t\t * @param {?('first-visible-headline'|'headline-at-top')} [algorithm='first-visible-headline'] - defines the algorithm by which $navElements are set active\n\t\t * @param {?Number.Integer} [throttleMs=250] - the minimum interval in which the scroll handler is fired, 0 disables throttling\n\t\t * @param {?String} [activeClass='active'] - the class to set upon the active nav element\n\t\t *\n\t\t * @memberof Navigation:$.setupHashNavHighlighting\n\t\t * @example\n\t\t * $.setupHashNavHighlighting($('#subnav a[href^=\"#\"]'), $('main section'), 'h2', 'headline-at-top', 400, 'highlight')\n\t\t **/\n\t\tsetupHashNavHighlighting : function($navElements, $sectionElements, headlineSelector, algorithm, throttleMs, activeClass){\n\t\t\theadlineSelector = this.orDefault(headlineSelector, 'h2:first', 'string');\n\t\t\talgorithm = this.orDefault(algorithm, 'first-visible-headline');\n\t\t\tthrottleMs = this.orDefault(throttleMs, 250, 'int');\n\t\t\tactiveClass = this.orDefault(activeClass, 'active', 'string');\n\n\t\t\tvar fHandler = function(){\n\t\t\t\tvar found = false;\n\n\t\t\t\tswitch( algorithm ){\n\t\t\t\t\tcase 'first-visible-headline':\n\t\t\t\t\t\t$navElements.removeClass(activeClass);\n\t\t\t\t\t\t$sectionElements.each(function(){\n\t\t\t\t\t\t\tvar $headline = $(this).find(headlineSelector).first();\n\n\t\t\t\t\t\t\tif( ($headline.length > 0) &&  $headline.isInViewport(true) ){\n\t\t\t\t\t\t\t\t$navElements.filter('[href*=\"#'+$(this).attr('id')+'\"]').first().addClass(activeClass);\n\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif( !found ){\n\t\t\t\t\t\t\t$sectionElements.each(function(){\n\t\t\t\t\t\t\t\tif( $(this).isInViewport() ){\n\t\t\t\t\t\t\t\t\t$navElements.filter('[href*=\"#'+$(this).attr('id')+'\"]').first().addClass(activeClass);\n\t\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'headline-at-top':\n\t\t\t\t\t\tvar viewportHeight = window.innerHeight || $(window).height(),\n\t\t\t\t            userHasScrolledToPageBottom = ($(window).scrollTop() + viewportHeight) > ($('body').height() - Math.round(viewportHeight / 10));\n\n\t\t\t\t\t\t$navElements.removeClass(activeClass);\n\t\t\t\t\t\tif( !userHasScrolledToPageBottom ){\n\t\t\t\t            $sectionElements.each(function(){\n\t\t\t\t                var $headline = $(this).find(headlineSelector),\n\t\t\t\t\t\t\t\t\theadlineTop = $.isFunction($headline.oo().getBoundingClientRect) ? $headline.oo().getBoundingClientRect().top : $headline.offset().top;\n\n\t\t\t\t                if( headlineTop < Math.round(viewportHeight / 10) ){\n\t\t\t\t\t\t\t\t\t$navElements.removeClass(activeClass);\n\t\t\t\t\t\t\t\t\t$navElements.filter('[href*=\"#'+$(this).attr('id')+'\"]').first().addClass(activeClass);\n\t\t\t\t                }\n\t\t\t\t            });\n\t\t\t\t        } else {\n\t\t\t\t\t\t\t$navElements.filter('[href*=\"#'+$sectionElements.last().attr('id')+'\"]').first().addClass(activeClass);\n\t\t\t\t        }\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$(window).off('scroll.dynamichashnav resize.dynamichashnav');\n\t\t\tif( throttleMs > 0 ){\n\t\t\t\t$(window).on('scroll.dynamichashnav resize.dynamichashnav', this.throttleExecution(throttleMs, fHandler, true, true));\n\t\t\t} else {\n\t\t\t\t$(window).on('scroll.dynamichashnav resize.dynamichashnav', fHandler);\n\t\t\t}\n\t\t\t$(window).triggerHandler('scroll.dynamichashnav');\n\t\t}\n\n\t});\n\n\n\n\t//--|JQUERY-OBJECT-GENERAL-FUNCTIONS----------\n\n\t$.fn.extend({\n\n\t\t/**\n\t\t * @namespace Images:$fn.highDpiBackgroundImage\n\t\t **/\n\n\t\t/**\n\t\t * Configures and sets the element's background image to a normal or highdpi-version depending on the display context.\n\t\t *\n\t\t * images is an array of the form [{}, {}, ...], where each object should look like this (widths and heights being optional):\n\t\t * {standard : {url : '...', width : 150, height : 150}, highdpi : {url : '...', width : 150, height : 150}}\n\t\t * To supply a single background you can also just provide one object.\n\t\t *\n\t\t * This function tries to implement a smart way of selecting the right image version.\n\t\t * If image/container dimensions are set the highdpi-version is chosen based on contextHasHighDpi(), but if\n\t\t * dimensions were not defined, it's tried to determine the maxpage width, either per pageMaxWidth or by looking\n\t\t * at css max-width of body and the high dpi is only applied if the viewport is larger than half the max size, so\n\t\t * we'll never load giant images unnecessarily on small devices, although they may have high dpi. You can force this\n\t\t * behaviour with ignoreDims.\n\t\t *\n\t\t * All images hooked via this function are polled and adapted with a delay after each resize.\n\t\t *\n\t\t * If no dimensions are set on the image the element's css is resposible to set a background-size value.\n\t\t *\n\t\t * @param  {(Object|Array)} images - the image(s) to apply, see definition in description above\n\t\t * @param  {?(Number.Integer|String)} [pageMaxWidth=*max-width of body or 0*] - either the page max size directly or a selector to get the max-size from via css\n\t\t * @param  {?Boolean} [ignoreDims=false] - if set, always tries to keep viewport vs. page max size in mind before setting image version, even if dims are set\n\t\t * @param  {?Number.Integer} [reactionDelayMs=500] - the delay after each window resize before the images are checked and adapted\n\t\t * @returns {Object} this\n\t\t *\n\t\t * @memberof Images:$fn.highDpiBackgroundImage\n\t\t * @example\n\t\t * $('.poster').highDpiBackgroundImage({standard : {url : '..', width : 150, height : 150}, highdpi : {url : '..', width : 300, height : 300}}, 1200, true, 1000);\n\t\t **/\n\t\thighDpiBackgroundImage : function(images, pageMaxWidth, ignoreDims, reactionDelayMs){\n\t\t\timages = $.isPlainObject(images) ? [images] : images;\n\t\t\tpageMaxWidth = $.isInt(pageMaxWidth) ? pageMaxWidth : ($.isSet(pageMaxWidth) ? $.cssToNumber($(''+pageMaxWidth).css('max-width')) : null);\n\t\t\tignoreDims = $.orDefault(ignoreDims, false, 'bool');\n\t\t\treactionDelayMs = $.orDefault(reactionDelayMs, 500, 'int');\n\n\t\t\tif( !$.isSet(pageMaxWidth) ){\n\t\t\t\tpageMaxWidth = $.cssToNumber($('body').css('max-width'));\n\n\t\t\t\tif( $.isNaN(pageMaxWidth) ){\n\t\t\t\t\tpageMaxWidth = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar _this_ = this;\n\n\t\t\tvar fSelectImageVersion = function(){\n\t\t\t\tif( $(_this_).isInDom() ){\n\t\t\t\t\tvar imagesToPreload = [],\n\t\t\t\t\t\tcssImgUrls = '',\n\t\t\t\t\t\tcssImgSizes = '',\n\t\t\t\t\t\thighDpi = $.contextHasHighDpi(),\n\t\t\t\t\t\tvpWidth = window.innerWidth || $(window).width();\n\n\t\t\t\t\tfor( var imageIndex = 0; imageIndex < images.length; imageIndex++ ){\n\t\t\t\t\t\tvar image = images[imageIndex];\n\n\t\t\t\t\t\tif( $.exists('standard.url', image) ){\n\t\t\t\t\t\t\tif( !$.exists('highdpi', image)  ){\n\t\t\t\t\t\t\t\timage.highdpi = $.extend({}, image.standard);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar smartAdapt = !$.isSet(image.standard.width, image.standard.height, image.highdpi.width, image.highdpi.height) || ignoreDims,\n\t\t\t\t\t\t\t\timageToUse = {\n\t\t\t\t\t\t\t\t\turl : image.standard.url,\n\t\t\t\t\t\t\t\t\twidth: image.standard.width,\n\t\t\t\t\t\t\t\t\theight : image.standard.height\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t;\n\n\t\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t\t(smartAdapt && (vpWidth > (pageMaxWidth / 2)) && highDpi)\n\t\t\t\t\t\t\t\t|| (!smartAdapt && highDpi)\n\t\t\t\t\t\t\t){\n\t\t\t\t\t\t\t\timageToUse.url = image.highdpi.url;\n\t\t\t\t\t\t\t\timageToUse.width = parseInt(image.highdpi.width, 10);\n\t\t\t\t\t\t\t\timageToUse.height = parseInt(image.highdpi.height, 10);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\timagesToPreload.push(imageToUse.url);\n\t\t\t\t\t\t\tcssImgUrls += ((cssImgUrls !== '') ? ', ' : '') + 'url('+imageToUse.url+')';\n\t\t\t\t\t\t\tif( $.isSet(imageToUse.width, imageToUse.height) && (imageToUse.width > 0) && (imageToUse.height > 0) ){\n\t\t\t\t\t\t\t\tcssImgSizes += ((cssImgSizes !== '') ? ', ' : '') + imageToUse.width+'px '+imageToUse.height+'px';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$.log('highDpiBackgroundImage | image is missing a standard dict:', image);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar preloadImage = null,\n\t\t\t\t\t\tpreloadedCount = 0;\n\n\t\t\t\t\tfor( var imageToPreloadIndex = 0; imageToPreloadIndex < imagesToPreload.length; imageToPreloadIndex++ ){\n\t\t\t\t\t\tpreloadImage = new Image();\n\t\t\t\t\t\tpreloadImage.src = imagesToPreload[imageToPreloadIndex];\n\t\t\t\t\t\t$(preloadImage).imgLoad(function(){\n\t\t\t\t\t\t\tpreloadedCount++;\n\t\t\t\t\t\t\tif( preloadedCount >= imagesToPreload.length ){\n\t\t\t\t\t\t\t\t$(_this_)\n\t\t\t\t\t\t\t\t\t.css('background-image', cssImgUrls)\n\t\t\t\t\t\t\t\t\t.cssCrossBrowser({'background-size' : cssImgSizes})\n\t\t\t\t\t\t\t\t;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfSelectImageVersion();\n\t\t\t$.jqueryAnnexData.highDpiBackgroundImages.targetClosures.push(fSelectImageVersion);\n\n\t\t\t$(window)\n\t\t\t\t.off('resize.highdpibackgroundimages')\n\t\t\t\t.on('resize.highdpibackgroundimages', function(){\n\t\t\t\t\t$.jqueryAnnexData.highDpiBackgroundImages.checkTimer = $.reschedule(\n\t\t\t\t\t\t$.jqueryAnnexData.highDpiBackgroundImages.checkTimer,\n\t\t\t\t\t\treactionDelayMs,\n\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\tfor( var i = 0; i < $.jqueryAnnexData.highDpiBackgroundImages.targetClosures.length; i++ ){\n\t\t\t\t\t\t\t\t$.jqueryAnnexData.highDpiBackgroundImages.targetClosures[i]();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t;\n\n\t\t\treturn this;\n\t\t}\n\n\t});\n\n\treturn $;\n\n}));\n"],"names":["global","factory","jQuery","$","define","amd","module","exports","__AVA_ENV__","require","jqueryAnnexData","ex","window","this","fn","jquery","extend","highDpiBackgroundImages","targetClosures","checkTimer","id","setTimeout","noop","type","setupHashNavHighlighting","$navElements","$sectionElements","headlineSelector","algorithm","throttleMs","activeClass","orDefault","fHandler","found","removeClass","each","$headline","find","first","length","isInViewport","filter","attr","addClass","viewportHeight","innerHeight","height","userHasScrolledToPageBottom","scrollTop","Math","round","last","isFunction","oo","getBoundingClientRect","offset","top","off","on","throttleExecution","triggerHandler","highDpiBackgroundImage","images","pageMaxWidth","ignoreDims","reactionDelayMs","isPlainObject","isInt","isSet","cssToNumber","css","isNaN","fSelectImageVersion","_this_","isInDom","imagesToPreload","cssImgUrls","cssImgSizes","highDpi","contextHasHighDpi","vpWidth","innerWidth","width","imageIndex","smartAdapt","imageToUse","image","exists","highdpi","standard","url","parseInt","push","log","preloadImage","preloadedCount","imageToPreloadIndex","Image","src","imgLoad","cssCrossBrowser","background-size","reschedule","i"],"mappings":"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"}