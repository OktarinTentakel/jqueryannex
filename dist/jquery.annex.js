!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function($){!function(){if(!$||!$.fn||!$().jquery)throw'jQueryAnnex | cannot extend jQuery, since it does not seem to be available as "jQuery" or is missing basic functionality';var t=$().jquery.split("."),e={1:"12.4",2:"2.4"},n=!1;e[t[0]]?$.each(e[t[0]].split("."),function(e,i){return t[e+1]?parseInt(t[e+1],10)<parseInt(i,10)?(n=!0,!1):!(parseInt(t[e+1],10)>parseInt(i,10))&&void 0:(n=!0,!1)}):window.console&&"function"==typeof window.console.warn&&window.console.warn("jQueryAnnex | the available jQuery version is unknown, use at your own risk"),n&&window.console&&"function"==typeof window.console.warn&&window.console.warn("jQueryAnnex | the available jQuery version is older than "+t[0]+"."+e[t[0]]+", use at your own risk")}();var _utils={};return _utils.genericConsoleMethodWrapper=function(t,e){if(e=!!e&&!!e,$.jqueryAnnexData.logging.enabled||e)if($.exists("console")&&$.isFunction(console[""+t])){var n=$.makeArray(arguments).slice(2);try{$.jqueryAnnexData.logging.tryToLogToParent?parent.console[""+t].apply(parent.console,n):console[""+t].apply(console,n)}catch(i){$.warn('console call to "'+t+'" failed, implementation seemingly incompatible')}}else $.warn('console call to "'+t+'" failed, is seemingly not supported');return $.log()},_utils.genericConsoleMethodWrapperFactory=function(t,e){return e=!!e&&!!e,function(){return _utils.genericConsoleMethodWrapper.apply(_utils,$.merge([""+t,e],$.makeArray(arguments)))}},$.extend({jqueryAnnexData:{logging:{originalLoggingFunction:void 0!==window.console&&$.isFunction(window.console.log)?window.console.log:$.noop,enabled:!0,tryToLogToParent:!1,chainable:{__chainable_object_of_log_execute_for_doc__:function(){return"Use this object to chain logging calls. All standard methods are supported (see https://developer.mozilla.org/en-US/docs/Web/API/Console) and are executed with silent fails if not supported by the browser. See other methods in this object for an overview. Use disable()/enable() to deactivate/activate all debug outputs (exceptions are assert, clear, error and warn) to the console centrally"},disable:function(){return $.jqueryAnnexData.logging.enabled&&(console.log=$.noop,$.jqueryAnnexData.logging.enabled=!1),$.log()},enable:function(){return $.jqueryAnnexData.logging.enabled||(console.log=$.jqueryAnnexData.logging.originalLoggingFunction,$.jqueryAnnexData.logging.enabled=!0),$.log()},tryToLogToParent:function(t){return t=void 0===t||!!t,$.jqueryAnnexData.logging.tryToLogToParent=t,$.log()},assert:_utils.genericConsoleMethodWrapperFactory("assert",!0),clear:_utils.genericConsoleMethodWrapperFactory("clear",!0),count:_utils.genericConsoleMethodWrapperFactory("count"),dir:_utils.genericConsoleMethodWrapperFactory("dir"),dirxml:_utils.genericConsoleMethodWrapperFactory("dirxml"),dirXml:_utils.genericConsoleMethodWrapperFactory("dirxml"),error:function(){return $.err.apply($,$.makeArray(arguments)),$.log()},group:_utils.genericConsoleMethodWrapperFactory("group"),groupCollapsed:_utils.genericConsoleMethodWrapperFactory("groupCollapsed"),groupEnd:_utils.genericConsoleMethodWrapperFactory("groupEnd"),info:_utils.genericConsoleMethodWrapperFactory("info"),log:function(){return $.log.apply($,$.makeArray(arguments))},profile:_utils.genericConsoleMethodWrapperFactory("profile"),profileEnd:_utils.genericConsoleMethodWrapperFactory("profileEnd"),table:_utils.genericConsoleMethodWrapperFactory("table"),time:_utils.genericConsoleMethodWrapperFactory("time"),timeEnd:_utils.genericConsoleMethodWrapperFactory("timeEnd"),timeStamp:_utils.genericConsoleMethodWrapperFactory("timeStamp"),trace:_utils.genericConsoleMethodWrapperFactory("trace"),warn:function(){return $.warn.apply($,$.makeArray(arguments)),$.log()}},xlog:{}},inheritance:{initializing:!1,fnTest:/xyz/.test(function(){return"xyz"})?/\b_super\b/:/.*/},polls:{defaultLoop:null,activePollCount:0,activePolls:{}},history:{currentState:null,currentTitle:null,currentHost:null,currentPath:null},touch:{types:{touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},inputs:["input","textarea","select","option"]},preloadedImages:{unnamed:[],named:{}},highDpiBackgroundImages:{targetClosures:[],checkTimer:{id:window.setTimeout($.noop,1),type:"timeout"}},slugify:{latinMap:{"Á":"A","Ă":"A","Ắ":"A","Ặ":"A","Ằ":"A","Ẳ":"A","Ẵ":"A","Ǎ":"A","Â":"A","Ấ":"A","Ậ":"A","Ầ":"A","Ẩ":"A","Ẫ":"A","Ä":"A","Ǟ":"A","Ȧ":"A","Ǡ":"A","Ạ":"A","Ȁ":"A","À":"A","Ả":"A","Ȃ":"A","Ā":"A","Ą":"A","Å":"A","Ǻ":"A","Ḁ":"A","Ⱥ":"A","Ã":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ḃ":"B","Ḅ":"B","Ɓ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ć":"C","Č":"C","Ç":"C","Ḉ":"C","Ĉ":"C","Ċ":"C","Ƈ":"C","Ȼ":"C","Ď":"D","Ḑ":"D","Ḓ":"D","Ḋ":"D","Ḍ":"D","Ɗ":"D","Ḏ":"D","ǲ":"D","ǅ":"D","Đ":"D","Ƌ":"D","Ǳ":"DZ","Ǆ":"DZ","É":"E","Ĕ":"E","Ě":"E","Ȩ":"E","Ḝ":"E","Ê":"E","Ế":"E","Ệ":"E","Ề":"E","Ể":"E","Ễ":"E","Ḙ":"E","Ë":"E","Ė":"E","Ẹ":"E","Ȅ":"E","È":"E","Ẻ":"E","Ȇ":"E","Ē":"E","Ḗ":"E","Ḕ":"E","Ę":"E","Ɇ":"E","Ẽ":"E","Ḛ":"E","Ꝫ":"ET","Ḟ":"F","Ƒ":"F","Ǵ":"G","Ğ":"G","Ǧ":"G","Ģ":"G","Ĝ":"G","Ġ":"G","Ɠ":"G","Ḡ":"G","Ǥ":"G","Ḫ":"H","Ȟ":"H","Ḩ":"H","Ĥ":"H","Ⱨ":"H","Ḧ":"H","Ḣ":"H","Ḥ":"H","Ħ":"H","Í":"I","Ĭ":"I","Ǐ":"I","Î":"I","Ï":"I","Ḯ":"I","İ":"I","Ị":"I","Ȉ":"I","Ì":"I","Ỉ":"I","Ȋ":"I","Ī":"I","Į":"I","Ɨ":"I","Ĩ":"I","Ḭ":"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS","Ĵ":"J","Ɉ":"J","Ḱ":"K","Ǩ":"K","Ķ":"K","Ⱪ":"K","Ꝃ":"K","Ḳ":"K","Ƙ":"K","Ḵ":"K","Ꝁ":"K","Ꝅ":"K","Ĺ":"L","Ƚ":"L","Ľ":"L","Ļ":"L","Ḽ":"L","Ḷ":"L","Ḹ":"L","Ⱡ":"L","Ꝉ":"L","Ḻ":"L","Ŀ":"L","Ɫ":"L","ǈ":"L","Ł":"L","Ǉ":"LJ","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ń":"N","Ň":"N","Ņ":"N","Ṋ":"N","Ṅ":"N","Ṇ":"N","Ǹ":"N","Ɲ":"N","Ṉ":"N","Ƞ":"N","ǋ":"N","Ñ":"N","Ǌ":"NJ","Ó":"O","Ŏ":"O","Ǒ":"O","Ô":"O","Ố":"O","Ộ":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ö":"O","Ȫ":"O","Ȯ":"O","Ȱ":"O","Ọ":"O","Ő":"O","Ȍ":"O","Ò":"O","Ỏ":"O","Ơ":"O","Ớ":"O","Ợ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ȏ":"O","Ꝋ":"O","Ꝍ":"O","Ō":"O","Ṓ":"O","Ṑ":"O","Ɵ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Õ":"O","Ṍ":"O","Ṏ":"O","Ȭ":"O","Ƣ":"OI","Ꝏ":"OO","Ɛ":"E","Ɔ":"O","Ȣ":"OU","Ṕ":"P","Ṗ":"P","Ꝓ":"P","Ƥ":"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q","Ŕ":"R","Ř":"R","Ŗ":"R","Ṙ":"R","Ṛ":"R","Ṝ":"R","Ȑ":"R","Ȓ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C","Ǝ":"E","Ś":"S","Ṥ":"S","Š":"S","Ṧ":"S","Ş":"S","Ŝ":"S","Ș":"S","Ṡ":"S","Ṣ":"S","Ṩ":"S","ẞ":"SS","Ť":"T","Ţ":"T","Ṱ":"T","Ț":"T","Ⱦ":"T","Ṫ":"T","Ṭ":"T","Ƭ":"T","Ṯ":"T","Ʈ":"T","Ŧ":"T","Ɐ":"A","Ꞁ":"L","Ɯ":"M","Ʌ":"V","Ꜩ":"TZ","Ú":"U","Ŭ":"U","Ǔ":"U","Û":"U","Ṷ":"U","Ü":"U","Ǘ":"U","Ǚ":"U","Ǜ":"U","Ǖ":"U","Ṳ":"U","Ụ":"U","Ű":"U","Ȕ":"U","Ù":"U","Ủ":"U","Ư":"U","Ứ":"U","Ự":"U","Ừ":"U","Ử":"U","Ữ":"U","Ȗ":"U","Ū":"U","Ṻ":"U","Ų":"U","Ů":"U","Ũ":"U","Ṹ":"U","Ṵ":"U","Ꝟ":"V","Ṿ":"V","Ʋ":"V","Ṽ":"V","Ꝡ":"VY","Ẃ":"W","Ŵ":"W","Ẅ":"W","Ẇ":"W","Ẉ":"W","Ẁ":"W","Ⱳ":"W","Ẍ":"X","Ẋ":"X","Ý":"Y","Ŷ":"Y","Ÿ":"Y","Ẏ":"Y","Ỵ":"Y","Ỳ":"Y","Ƴ":"Y","Ỷ":"Y","Ỿ":"Y","Ȳ":"Y","Ɏ":"Y","Ỹ":"Y","Ź":"Z","Ž":"Z","Ẑ":"Z","Ⱬ":"Z","Ż":"Z","Ẓ":"Z","Ȥ":"Z","Ẕ":"Z","Ƶ":"Z","Ĳ":"IJ","Œ":"OE","ᴀ":"A","ᴁ":"AE","ʙ":"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F","ɢ":"G","ʛ":"G","ʜ":"H","ɪ":"I","ʁ":"R","ᴊ":"J","ᴋ":"K","ʟ":"L","ᴌ":"L","ᴍ":"M","ɴ":"N","ᴏ":"O","ɶ":"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P","ʀ":"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W","ʏ":"Y","ᴢ":"Z","á":"a","ă":"a","ắ":"a","ặ":"a","ằ":"a","ẳ":"a","ẵ":"a","ǎ":"a","â":"a","ấ":"a","ậ":"a","ầ":"a","ẩ":"a","ẫ":"a","ä":"a","ǟ":"a","ȧ":"a","ǡ":"a","ạ":"a","ȁ":"a","à":"a","ả":"a","ȃ":"a","ā":"a","ą":"a","ᶏ":"a","ẚ":"a","å":"a","ǻ":"a","ḁ":"a","ⱥ":"a","ã":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ḃ":"b","ḅ":"b","ɓ":"b","ḇ":"b","ᵬ":"b","ᶀ":"b","ƀ":"b","ƃ":"b","ɵ":"o","ć":"c","č":"c","ç":"c","ḉ":"c","ĉ":"c","ɕ":"c","ċ":"c","ƈ":"c","ȼ":"c","ď":"d","ḑ":"d","ḓ":"d","ȡ":"d","ḋ":"d","ḍ":"d","ɗ":"d","ᶑ":"d","ḏ":"d","ᵭ":"d","ᶁ":"d","đ":"d","ɖ":"d","ƌ":"d","ı":"i","ȷ":"j","ɟ":"j","ʄ":"j","ǳ":"dz","ǆ":"dz","é":"e","ĕ":"e","ě":"e","ȩ":"e","ḝ":"e","ê":"e","ế":"e","ệ":"e","ề":"e","ể":"e","ễ":"e","ḙ":"e","ë":"e","ė":"e","ẹ":"e","ȅ":"e","è":"e","ẻ":"e","ȇ":"e","ē":"e","ḗ":"e","ḕ":"e","ⱸ":"e","ę":"e","ᶒ":"e","ɇ":"e","ẽ":"e","ḛ":"e","ꝫ":"et","ḟ":"f","ƒ":"f","ᵮ":"f","ᶂ":"f","ǵ":"g","ğ":"g","ǧ":"g","ģ":"g","ĝ":"g","ġ":"g","ɠ":"g","ḡ":"g","ᶃ":"g","ǥ":"g","ḫ":"h","ȟ":"h","ḩ":"h","ĥ":"h","ⱨ":"h","ḧ":"h","ḣ":"h","ḥ":"h","ɦ":"h","ẖ":"h","ħ":"h","ƕ":"hv","í":"i","ĭ":"i","ǐ":"i","î":"i","ï":"i","ḯ":"i","ị":"i","ȉ":"i","ì":"i","ỉ":"i","ȋ":"i","ī":"i","į":"i","ᶖ":"i","ɨ":"i","ĩ":"i","ḭ":"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is","ǰ":"j","ĵ":"j","ʝ":"j","ɉ":"j","ḱ":"k","ǩ":"k","ķ":"k","ⱪ":"k","ꝃ":"k","ḳ":"k","ƙ":"k","ḵ":"k","ᶄ":"k","ꝁ":"k","ꝅ":"k","ĺ":"l","ƚ":"l","ɬ":"l","ľ":"l","ļ":"l","ḽ":"l","ȴ":"l","ḷ":"l","ḹ":"l","ⱡ":"l","ꝉ":"l","ḻ":"l","ŀ":"l","ɫ":"l","ᶅ":"l","ɭ":"l","ł":"l","ǉ":"lj","ſ":"s","ẜ":"s","ẛ":"s","ẝ":"s","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ᵯ":"m","ᶆ":"m","ń":"n","ň":"n","ņ":"n","ṋ":"n","ȵ":"n","ṅ":"n","ṇ":"n","ǹ":"n","ɲ":"n","ṉ":"n","ƞ":"n","ᵰ":"n","ᶇ":"n","ɳ":"n","ñ":"n","ǌ":"nj","ó":"o","ŏ":"o","ǒ":"o","ô":"o","ố":"o","ộ":"o","ồ":"o","ổ":"o","ỗ":"o","ö":"o","ȫ":"o","ȯ":"o","ȱ":"o","ọ":"o","ő":"o","ȍ":"o","ò":"o","ỏ":"o","ơ":"o","ớ":"o","ợ":"o","ờ":"o","ở":"o","ỡ":"o","ȏ":"o","ꝋ":"o","ꝍ":"o","ⱺ":"o","ō":"o","ṓ":"o","ṑ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","õ":"o","ṍ":"o","ṏ":"o","ȭ":"o","ƣ":"oi","ꝏ":"oo","ɛ":"e","ᶓ":"e","ɔ":"o","ᶗ":"o","ȣ":"ou","ṕ":"p","ṗ":"p","ꝓ":"p","ƥ":"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q","ʠ":"q","ɋ":"q","ꝗ":"q","ŕ":"r","ř":"r","ŗ":"r","ṙ":"r","ṛ":"r","ṝ":"r","ȑ":"r","ɾ":"r","ᵳ":"r","ȓ":"r","ṟ":"r","ɼ":"r","ᵲ":"r","ᶉ":"r","ɍ":"r","ɽ":"r","ↄ":"c","ꜿ":"c","ɘ":"e","ɿ":"r","ś":"s","ṥ":"s","š":"s","ṧ":"s","ş":"s","ŝ":"s","ș":"s","ṡ":"s","ṣ":"s","ṩ":"s","ʂ":"s","ᵴ":"s","ᶊ":"s","ȿ":"s","ɡ":"g","ß":"ss","ᴑ":"o","ᴓ":"o","ᴝ":"u","ť":"t","ţ":"t","ṱ":"t","ț":"t","ȶ":"t","ẗ":"t","ⱦ":"t","ṫ":"t","ṭ":"t","ƭ":"t","ṯ":"t","ᵵ":"t","ƫ":"t","ʈ":"t","ŧ":"t","ᵺ":"th","ɐ":"a","ᴂ":"ae","ǝ":"e","ᵷ":"g","ɥ":"h","ʮ":"h","ʯ":"h","ᴉ":"i","ʞ":"k","ꞁ":"l","ɯ":"m","ɰ":"m","ᴔ":"oe","ɹ":"r","ɻ":"r","ɺ":"r","ⱹ":"r","ʇ":"t","ʌ":"v","ʍ":"w","ʎ":"y","ꜩ":"tz","ú":"u","ŭ":"u","ǔ":"u","û":"u","ṷ":"u","ü":"u","ǘ":"u","ǚ":"u","ǜ":"u","ǖ":"u","ṳ":"u","ụ":"u","ű":"u","ȕ":"u","ù":"u","ủ":"u","ư":"u","ứ":"u","ự":"u","ừ":"u","ử":"u","ữ":"u","ȗ":"u","ū":"u","ṻ":"u","ų":"u","ᶙ":"u","ů":"u","ũ":"u","ṹ":"u","ṵ":"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v","ṿ":"v","ʋ":"v","ᶌ":"v","ⱱ":"v","ṽ":"v","ꝡ":"vy","ẃ":"w","ŵ":"w","ẅ":"w","ẇ":"w","ẉ":"w","ẁ":"w","ⱳ":"w","ẘ":"w","ẍ":"x","ẋ":"x","ᶍ":"x","ý":"y","ŷ":"y","ÿ":"y","ẏ":"y","ỵ":"y","ỳ":"y","ƴ":"y","ỷ":"y","ỿ":"y","ȳ":"y","ẙ":"y","ɏ":"y","ỹ":"y","ź":"z","ž":"z","ẑ":"z","ʑ":"z","ⱬ":"z","ż":"z","ẓ":"z","ȥ":"z","ẕ":"z","ᵶ":"z","ᶎ":"z","ʐ":"z","ƶ":"z","ɀ":"z","ﬀ":"ff","ﬃ":"ffi","ﬄ":"ffl","ﬁ":"fi","ﬂ":"fl","ĳ":"ij","œ":"oe","ﬆ":"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x"}},uuid:{usedSinceReload:{none:null}}},log:function(){return this.exists("console")&&$.isFunction(console.log)&&$.each(arguments,function(t,e){$.isA(e,"boolean")&&(e=e?"true":"false"),$.jqueryAnnexData.logging.tryToLogToParent?parent.console.log(e):console.log(e)}),$.jqueryAnnexData.logging.chainable},warn:function(){this.exists("console")&&$.isFunction(console.warn)&&$.each(arguments,function(t,e){$.isA(e,"boolean")&&(e=e?"true":"false"),$.jqueryAnnexData.logging.tryToLogToParent?parent.console.warn(e):console.warn(e)})},err:function(){this.exists("console")&&$.isFunction(console.error)&&$.each(arguments,function(t,e){$.isA(e,"boolean")&&(e=e?"true":"false"),$.jqueryAnnexData.logging.tryToLogToParent?parent.console.error(e):console.error(e)})},x:function(){var t="anonymous";if(this.exists("callee.caller",arguments)&&$.isSet(arguments.callee.caller))if(this.isSet(arguments.callee.caller.name)&&""!==$.trim(arguments.callee.caller.name))t=arguments.callee.caller.name;else{var e=arguments.callee.caller.toString().split(/\r?\n/,3);t=1===e.length?e[0]:e.join(" ")+" ..."}this.isSet(this.jqueryAnnexData.logging.xlog[t])||(this.jqueryAnnexData.logging.xlog[t]=0),this.jqueryAnnexData.logging.xlog[t]++,this.log(t+" | "+this.jqueryAnnexData.logging.xlog[t])},elem:function(t,e,n){var i="";if(this.isSet(e))for(var a in e)i+=" "+a+'="'+e[a]+'"';return $(this.isSet(n)?"<"+t+(this.isSet(i)?i:"")+">"+n+"</"+t+">":"<"+t+(this.isSet(i)?i:"")+"/>")},textContent:function(t,e){e=this.orDefault(e,!1,"bool");var n="",i=this.isA(t,"object")&&this.isSet(t.jquery)?t:this.elem("p").html(""+t);return n=e?i.contents().filter(function(){return 3===this.nodeType}).text().end():i.text(),$.trim(n)},Class:function(){},assert:function(t,e){if(!t)throw e=this.orDefault(e,"assert exception: assertion failed","string")},attempt:function(t){this.assert($.isFunction(t),"attempt | closure is not a function");try{t()}catch(e){return!1}return!0},isSet:function(){var t=!0;return $.each(arguments,function(e,n){if(t=t&&void 0!==n&&null!==n,!t)return!1}),t},isEmpty:function(t){var e=!1,n=null;return $.isArray(t)&&t.length>0&&"__additionalempty__"===t[0]?(n=$.makeArray(arguments).slice(1),t=t.slice(1)):(n=$.makeArray(arguments),t=[]),$.each(n,function(n,i){if(e=e||void 0===i||null===i||""===i||0===i||$.inArray(i,t)>=0,e||($.isArray(i)?e=e||0===i.length:$.isPlainObject(i)?e=e||$.isEmptyObject(i):$.isA(i,"object")&&$.inArray(Object.prototype.toString.call(i),["[object Set]","[object Map]"])>=0&&(e=e||0===i.size)),e)return!0}),e},hasMembers:function(t,e,n){n=$.orDefault(n,!1,"bool");for(var i=0;i<e.length;i++)if(!this.isSet(t[e[i]]))return n&&this.log().info("hasMembers | missing member "+e[i]),!1;return!0},orDefault:function(t,e,n,i){return i=$.isSet(i)?$.isArray(i)?i:[i]:[],$.isSet(n)?!$.isFunction(n)&&$.inArray(n,["string","String","int","integer","Integer","bool","boolean","Boolean","float","Float","array","Array"])>=0?$.inArray(n,["string","String"])>=0?n=function(t){return""+t}:$.inArray(n,["int","integer","Integer"])>=0?n=function(t){return parseInt(t,10)}:$.inArray(n,["bool","boolean","Boolean"])>=0?n=function(t){return!!t}:$.inArray(n,["float","Float"])>=0?n=function(t){return parseFloat(t)}:$.inArray(n,["array","Array"])>=0&&(n=function(t){return $.isArray(t)?t:[t]}):$.isFunction(n)||(n=function(t){return t}):n=function(t){return t},!this.isSet(t)||$.inArray(t,i)>=0?e:n(t)},exists:function(t,e){var n=this,i=!0;if(this.isA(t,"object")&&this.isSet(t.jquery))return t.length>0;t=""+t,this.isSet(e)||(e=window);var a=t.split(".");return $.each(a,function(t,s){if(t<a.length-1){if(i=i&&n.isSet(e[""+s]),!i)return!1;e=e[""+s]}else i=i&&void 0!==e[""+s]}),i},isA:function(t,e){return $.inArray(e,["boolean","number","string","function","array","date","regexp","object"])>=0?$.type(t)===""+e:(this.log("isA | not asked for valid JS-type"),!1)},isInt:function(t){return parseInt(t,10)===t},isFloat:function(t){return parseFloat(t)===t},isNaN:function(t,e){return e=this.orDefault(e,!0,"bool"),e?t!==t:isNaN(t)},minMax:function(t,e,n){return e<t?t:e>n?n:e},strReplace:function(t,e,n){t=[].concat(t),e=[].concat(e),n=""+n;var i="";return $.each(t,function(t,a){i=e.length>1?void 0!==e[t]?e[t]:"":e[0],n=n.split(a).join(i)}),n},strTruncate:function(t,e,n){return t=""+t,this.isSet(e)||(e=30),this.isSet(n)||(n="..."),t.length>e&&(t=""+t.substr(0,e-n.length)+n),t},strConcat:function(t){t=this.orDefault(t,"","string");var e=$.makeArray(arguments).slice(1);return e.join(t)},strFormat:function(t){var e=this,n=arguments.length>1?$.makeArray(arguments).slice(1):[],i=0,a=!1,s=!1,r=function(t,e){var n=t[e];return $.isFunction(n)?n.call(t):n},o=function(t,e){/^(\d+)([.]|$)/.test(e)||(e="0."+e);for(var n=/(.+?)[.](.+)/.exec(e);n;)t=r(t,n[1]),e=n[2],n=/(.+?)[.](.+)/.exec(e);return r(t,e)},l={"int":function(t,n){n=e.orDefault(n,10,"int");var i=parseInt(t,n);return e.isNaN(i)?"":""+i},"float":function(t,n){n=e.orDefault(n,null,"string");var i=null;if(e.isSet(n)){var a=0;try{a=n.split(".")[1].length}catch(s){throw"strFormat | float precision arg malformed"}var r=Math.pow(10,a);i=Math.round(parseFloat(t)*r)/r}else i=parseFloat(t);return e.isNaN(i)?"":""+i}};return t.replace(/([{}])\1|[{](.*?)(?:!(.+?))?[}]/g,function(t,r,u){var c=null,h="",d=null,f=null;if(r)return r;if(u.length){var $=u.split(":");if($.length>1){u=$[0];var g=$[1].split("("),p=g[0];g.length>1&&(f=e.strReplace(")","",g[1]));try{d=l[p]}catch(m){throw"strFormat | unknown formatter"}}if(s)throw"strFormat | cannot switch from implicit to explicit numbering";a=!0,c=o(n,u),h=e.orDefault(c,"")}else{if(a)throw"strFormat | cannot switch from explicit to implicit numbering";s=!0,c=n[i],h=e.orDefault(c,""),i++}return e.isSet(d)?d(h,f):h})},slugify:function(t){t=this.isSet(t)?""+t:"";var e=this;return t.toLowerCase().replace(/\s+/g,"-").replace(/[^A-Za-z0-9\[\] ]/g,function(t){return e.jqueryAnnexData.slugify.latinMap[t]||t}).replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},maskForSelector:function(t){return t.replace(/([\#\;\&\,\.\+\*\~\'\:\"\!\^\$\[\]\(\)\=\>\|\/\@])/,"\\$1")},maskForRegEx:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},removeFromArray:function(t,e,n){t=t.slice(0);var i=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,$.merge(t,i)},objectLength:function(t){var e=0;return $.each(t,function(){e++}),e},copyObjectContent:function(t,e,n){n=this.orDefault(n,!1,"boolean");var i,a;for(i in t)delete t[i];for(i in e)n?(a=e[i],$.isArray(a)||$.isPlainObject(a)?$.isArray(a)?t[i]=$.extend(!0,[],a):$.isPlainObject(a)&&(t[i]=$.extend(!0,{},a)):t[i]=a):t[i]=e[i];return t},emptyObject:function(t){return this.copyObjectContent(t,{})},randomInt:function(t,e){return t=this.isSet(t)?parseInt(t,10):0,e=this.isSet(e)?parseInt(e,10):10,this.assert(e>=t,"randomInt | ceiling may not be smaller than floor"),Math.floor(Math.random()*(e-t+1)+t)},randomUuid:function(t){t=!!this.isSet(t)&&!!t;var e="none",n=36;t&&(n=32);for(var i=[],a="0123456789ABCDEF",s=0;null===this.jqueryAnnexData.uuid.usedSinceReload[e];){for(s=0;s<n;s++)i[s]=Math.floor(16*Math.random());for(i[t?12:14]=4,i[t?16:19]=3&i[19]|8,s=0;s<n;s++)i[s]=a[i[s]];t||(i[8]=i[13]=i[18]=i[23]="-"),e=i.join("")}return this.jqueryAnnexData.uuid.usedSinceReload[e]=null,e},schedule:function(t,e,n){return this.isSet(n)&&this.countermand(n),$.isFunction(e)?{id:window.setTimeout(e,t),type:"timeout"}:null},pschedule:function(t,e,n){if(this.isSet(n)&&$.isPlainObject(n)&&this.hasMembers(n,["id","type"])?(this.countermand(n),n.precise=!0):n={id:-1,type:"timeout",precise:!0},$.isFunction(e)){var i=(new Date).getTime(),a=t,s=function(){a>0?(a-=(new Date).getTime()-i,n.id=window.setTimeout(s,a>10?a:10)):e()};return n.id=window.setTimeout(s,a),n}return null},reschedule:function(t,e,n){if($.isPlainObject(t)&&this.hasMembers(t,["id","type"]))return this.isSet(t.precise)&&t.precise?this.pschedule(e,n,t):this.schedule(e,n,t)},loop:function(t,e,n){return this.isSet(n)&&this.countermand(n,!0),$.isFunction(e)?{id:window.setInterval(e,t),type:"interval"}:null},ploop:function(t,e,n){if(this.isSet(n)&&$.isPlainObject(n)&&this.hasMembers(n,["id","type"])?(this.countermand(n,!0),n.precise=!0):n={id:-1,type:"interval",precise:!0},$.isFunction(e)){var i=(new Date).getTime(),a=t,s=function(){a>0?(a-=(new Date).getTime()-i,n.id=window.setTimeout(s,a>10?a:10)):(e(),i=(new Date).getTime(),a=t,n.id=window.setTimeout(s,a))};return n.id=window.setTimeout(s,a),n}return null},countermand:function(t,e){this.isSet(t)&&($.isPlainObject(t)&&this.hasMembers(t,["id","type"])?"interval"===t.type?window.clearInterval(t.id):window.clearTimeout(t.id):$.isA(t,"number")&&(this.isSet(e)&&e?window.clearInterval(t):window.clearTimeout(t)))},SaneDate:function(){},poll:function(t,e,n,i,a,s){t=$.trim(""+t);var r=this;if(""!==t&&$.isFunction(e)&&$.isFunction(n)){i=$.isFunction(i)?i:$.noop;var o={name:t,condition:e,action:n,elseAction:i,loop:null,lastPollResult:!1,forceFire:function(){e()?(n(!0),o.lastPollResult=!0):(i(!0),o.lastPollResult=!1)}};return this.isSet(s)&&s&&(o.loop=this.loop(this.orDefault(a,250,"int"),function(){o.condition()?(o.action(o.lastPollResult===!1)&&(r.countermand(o.loop),o.loop=null,delete r.jqueryAnnexData.polls.activePolls[o.name],r.jqueryAnnexData.polls.activePollCount--),o.lastPollResult=!0):(o.elseAction(o.lastPollResult===!0),o.lastPollResult=!1)})),this.isSet(this.jqueryAnnexData.polls.activePolls[t])&&this.unpoll(t),this.jqueryAnnexData.polls.activePolls[t]=o,this.jqueryAnnexData.polls.activePollCount++,(!this.isSet(this.jqueryAnnexData.polls.defaultLoop)||this.isSet(a)&&!this.isSet(s))&&this.jqueryAnnexData.polls.activePollCount>0&&(this.isSet(this.jqueryAnnexData.polls.defaultLoop)&&this.countermand(this.jqueryAnnexData.polls.defaultLoop),this.jqueryAnnexData.polls.defaultLoop=this.loop(this.orDefault(a,250,"int"),function(){r.jqueryAnnexData.polls.activePollCount>0?$.each(r.jqueryAnnexData.polls.activePolls,function(t,e){r.isSet(e.loop)||(e.condition()?(e.action(e.lastPollResult===!1)&&(delete r.jqueryAnnexData.polls.activePolls[t],r.jqueryAnnexData.polls.activePollCount--),e.lastPollResult=!0):(e.elseAction(e.lastPollResult===!0),e.lastPollResult=!1))}):(r.countermand(r.jqueryAnnexData.polls.defaultLoop),r.jqueryAnnexData.polls.defaultLoop=null)})),o}return null},unpoll:function(t){return t=$.trim(""+t),""!==t&&(this.isSet(this.jqueryAnnexData.polls.activePolls[t].loop)&&this.countermand(this.jqueryAnnexData.polls.activePolls[t].loop),!!this.isSet(this.jqueryAnnexData.polls.activePolls[t])&&(delete this.jqueryAnnexData.polls.activePolls[t],this.jqueryAnnexData.polls.activePollCount--,this.jqueryAnnexData.polls.activePollCount<=0&&(this.countermand(this.jqueryAnnexData.polls.defaultLoop),this.jqueryAnnexData.polls.defaultLoop=null),!0))},throttleExecution:function(t,e,n,i){n=this.orDefault(n,!0,"bool"),i=this.orDefault(i,!1,"bool");var a=this,s=null,r=null,o=null,l=null,u=function(t,n){o=null,l=(new Date).getTime(),s=null,e.apply(t,n)},c=function(t,n){e.apply(t,n)};return function(){var h=this,d=$.makeArray(arguments);if($.isSet(o)&&!$.isSet(s)){var f=(new Date).getTime(),g=f-($.isSet(l)&&l>o?l:o),p=t-g<0?0:t-g;a.countermand(s),s=a.schedule(p,function(){u(h,d)}),o=f}else l=null,o=(new Date).getTime(),$.isSet(s)||(n?(e.apply(h,d),l=o):s=a.schedule(t,function(){u(h,d)}));i&&($.isSet(r)&&a.countermand(r),r=a.schedule(t,function(){c(h,d)}))}},holdExecution:function(t,e){var n=this,i=this.schedule(1,$.noop);return function(){var a=this,s=$.makeArray(arguments);i=n.reschedule(i,t,function(){e.apply(a,s)})}},deferExecution:function(t,e){e=this.orDefault(e,1,"int");var n=this;return function(){n.schedule(e,t)}},kwargs:function(t,e){e=$.isPlainObject(e)?e:{};var n=this,i=t.toString().match(/\(([^\)]+)/)[1];return i=i?$.map(i.split(","),function(t){return $.trim(t)}):[],function(){var a=$.makeArray(arguments),s=[];$.each(a,function(t,e){!$.isPlainObject(e)||n.isSet(e.kwargs)&&!e.kwargs?s[t]=e:$.each(i,function(t,i){n.isSet(e[i])&&(s[t]=e[i])})}),$.each(i,function(t,i){!n.isSet(s[t])&&n.isSet(e[i])&&(s[t]=e[i])}),t.apply(this,s)}},redirect:function(t,e,n,i,a){var s=this,r=!this.isSet(t);if(this.isSet(t)){var o=t.split("#");o.length>1&&(n=this.orDefault(n,o[1],"string"),t=t.replace(/\#.+$/,""))}else t=window.location.href,this.isSet($(document).urlAnchor())&&(n=this.orDefault(n,$(document).urlAnchor(!0),"string"),t=t.replace(/\#.+$/,""));var l=t.split("?",2);t=l[0];var u=this.orDefault(l[1],""),c={};if(u.length>0)for(var h=u.split("&"),d=0;d<h.length;d++){var f=h[d].split("=",2);2===f.length?c[""+f[0]]=f[1]:c[""+f[0]]=null}this.isSet(e)&&$.isPlainObject(e)&&$.extend(c,e),e=c;var g="";for(var p in e)g+=this.isSet(e[p])?p+"="+encodeURIComponent(decodeURIComponent(e[p]))+"&":p+"&";g.length>0&&(g=g.substring(0,g.length-1),g=t.indexOf("?")===-1?"?"+g:"&"+g),r&&!this.isSet(n)&&(n=$(document).urlAnchor(!0));var m=t+(g.length>0?g:"")+(this.isSet(n)?"#"+n:"");if(this.isSet(i)||this.isSet(a))if(!this.isSet(i)&&this.isSet(a))window.open(m,""+a);else{this.isSet(i)||(i={});var y={method:"post",action:m,"data-ajax":"false"};this.isSet(a)&&$.extend(y,{target:""+a});var v=this.elem("form",y);$.each(i,function(t,e){$.isArray(e)?$.each(e,function(e,n){v.append(s.elem("input",{type:"hidden",name:t+"[]",value:""+n}))}):v.append(s.elem("input",{type:"hidden",name:""+t,value:""+e}))}),$("body").append(v),v.submit(),v.remove()}else window.location.href=m},changeUrlSilently:function(t,e,n,i){if(e=this.orDefault(e,""),n=this.orDefault(n,""),window.history){i&&window.history.pushState?window.history.pushState(e,""+n,""+t):!i&&window.history.replaceState&&window.history.replaceState(e,""+n,""+t);var a=this.strReplace(["http://","https://","//"],"",t);a=a.split("/");var s=a.shift();""===$.trim(s)&&(s=window.location.host);var r=a.join("/");this.jqueryAnnexData.history.currentState=e,this.jqueryAnnexData.history.currentTitle=""+n,this.jqueryAnnexData.history.currentHost=""+s,this.jqueryAnnexData.history.currentPath="/"+r}},onHistoryChange:function(t,e,n){var i=this;this.browserSupportsHistoryManipulation()&&(e=this.isSet(e)?"."+e:"",n&&$(window).off("popstate"+e),$(window).on("popstate"+e,function(e){t({state:i.jqueryAnnexData.history.currentState,title:i.jqueryAnnexData.history.currentTitle,host:i.jqueryAnnexData.history.currentHost,path:i.jqueryAnnexData.history.currentPath},{state:e.state,title:e.title,host:window.location.host,path:window.location.pathname}),i.jqueryAnnexData.history.currentState=e.state,i.jqueryAnnexData.history.currentTitle=""+e.title,i.jqueryAnnexData.history.currentHost=window.location.host,i.jqueryAnnexData.history.currentPath=window.location.pathname}))},reload:function(t){window.location.reload(this.isSet(t)&&t)},openWindow:function(t,e,n,i){n=this.orDefault(n,window),i=this.orDefault(i,!1,"bool");var a="",s=[];if(this.isSet(e)){this.isSet(e.name)&&(a=""+e.name);for(var r in e)("name"!==r||i)&&s.push(r+"="+e[r])}return n.open(""+t,a,s.join(", "))},openTab:function(t,e,n){this.redirect(t,e,n,null,"_blank")},setupHashNavHighlighting:function(t,e,n,i,a,s){n=this.orDefault(n,"h2:first","string"),i=this.orDefault(i,"first-visible-headline"),a=this.orDefault(a,250,"int"),s=this.orDefault(s,"active","string");var r=function(){var a=!1;switch(i){case"first-visible-headline":t.removeClass(s),e.each(function(){var e=$(this).find(n).first();if(e.length>0&&e.isInViewport(!0))return t.filter('[href*="#'+$(this).attr("id")+'"]').first().addClass(s),a=!0,!1}),a||e.each(function(){if($(this).isInViewport())return t.filter('[href*="#'+$(this).attr("id")+'"]').first().addClass(s),a=!0,!1});break;case"headline-at-top":var r=window.innerHeight||$(window).height(),o=$(window).scrollTop()+r>$("body").height()-Math.round(r/10);t.removeClass(s),o?t.filter('[href*="#'+e.last().attr("id")+'"]').first().addClass(s):e.each(function(){var e=$(this).find(n),i=$.isFunction(e.oo().getBoundingClientRect)?e.oo().getBoundingClientRect().top:e.offset().top;i<Math.round(r/10)&&(t.removeClass(s),t.filter('[href*="#'+$(this).attr("id")+'"]').first().addClass(s))})}};$(window).off("scroll.dynamichashnav resize.dynamichashnav"),a>0?$(window).on("scroll.dynamichashnav resize.dynamichashnav",this.throttleExecution(a,r,!0,!0)):$(window).on("scroll.dynamichashnav resize.dynamichashnav",r),$(window).triggerHandler("scroll.dynamichashnav")},browserSupportsHistoryManipulation:function(){return window.history&&window.history.pushState&&window.history.replaceState},browserSupportsLocalStorage:function(t){t=this.orDefault(t,"!!!foo!!!","string");try{return window.localStorage.setItem(t,"bar"),window.localStorage.removeItem(t),!0}catch(e){return!1}},browserSupportsSessionStorage:function(t){t=this.orDefault(t,"!!!foo!!!","string");try{return window.sessionStorage.setItem(t,"bar"),window.sessionStorage.removeItem(t),!0}catch(e){return!1}},contextIsTouchDevice:function(t,e,n){var i=this,a=!!n||"createTouch"in document,s=a,r=navigator.userAgent;return this.isSet(t)&&t&&(s=a&&(this.isSet(r.match(/(iPhone|iPod|iPad)/i))||this.isSet(r.match(/(BlackBerry|PlayBook)/i))||this.isSet(r.match(/Android/i))||this.isSet(r.match(/IE\sMobile\s[0-9]{0,2}/i))||this.isSet(r.match(/Opera Mobi/i))||this.isSet(r.match(/mobile.+firefox/i))||this.isSet(r.match(/Kindle/i))),!s&&this.isSet(e)&&$.isArray(e)&&$.each(e,function(t,e){var n=new RegExp(e,"i"),o=n.exec(r);s=a&&s||a&&i.isSet(o)})),s},contextHasHighDpi:function(){if(window.matchMedia){var t="only screen and (-webkit-min-device-pixel-ratio: 1.5),only screen and (-o-min-device-pixel-ratio: 3/2),only screen and (min--moz-device-pixel-ratio: 1.5),only screen and (min-device-pixel-ratio: 1.5),only screen and (min-resolution: 144dpi),only screen and (min-resolution: 1.5dppx)";return window.matchMedia(t).matches}return!1},contextScrollbarWidth:function(){var t=$.elem("div").css({position:"fixed",top:0,left:0,width:"100vw",height:1,visibility:"hidden",opacity:0,"pointer-events":"none",overflow:"scroll"}),e=$.elem("div").css({height:100}),n=$.elem("div").css({position:"absolute",top:0,left:0,width:"100%",height:1});t.append(e).append(n),$("body").append(t);var i=t.outerWidth(!0)-n.outerWidth(!0);return t.remove(),i},getCss:function(t,e,n){var i=this,a=null,s={styletag:!1,media:"all",charset:"utf-8"};return this.isSet(e)&&$.extend(s,e),e=s,$.get(t,function(s){a=e.styletag?i.elem("style",{type:"text/css"},s):i.elem("link",{rel:"stylesheet",type:"text/css",media:e.media||"screen",href:""+t}),i.isSet(e.charset)&&a.attr("charset",""+e.charset),i.isSet(e.id)&&(n=$.isFunction(n)?function(t){return function(){a.dataDuo("id",""+e.id),t(a)}}(n):function(){a.dataDuo("id",""+e.id)}),e.styletag?($("head style").length>0?$("head style:last").after(a):$("head link").length>0?$("head link:last").after(a):$("head").append(a),$.isFunction(n)&&n(a)):($("head link").length>0?$("head link:last").after(a):$("head style").length>0?$("head style:first").before(a):$("head").append(a),$.isFunction(n)&&i.schedule(100,function(){n(a)}))})},getHtmlBody:function(t,e){return $.assert($.isFunction(e),"getHtmlBody | callback is no function"),$.get(t,{},function(t){var n=t.match(/<body[^>]*>((.|[\n\r])*)<\/body>/i)[1],i=$.elem("body").html(n);e(i)},"html")},cookie:function(t,e,n){if(void 0===e){var i=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),s=0;s<a.length;s++){var r=$.trim(a[s]);if(r.substring(0,t.length+1)===t+"="){i=decodeURIComponent(r.substring(t.length+1));break}}return i}n=n||{},null===e&&(e="",n.expires=-1);var o="";if(n.expires&&("number"===$.type(n.expires)||n.expires.toUTCString)){var l;$.isA(n.expires,"number")?(l=new Date,l.setTime(l.getTime()+24*n.expires*60*60*1e3)):l=n.expires,o="; expires="+l.toUTCString()}var u=n.path?"; path="+n.path:"",c=n.domain?"; domain="+n.domain:"",h=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),o,u,c,h].join("")},cssToInt:function(t){return t=""+t,parseInt(t.replace(/(px|em|%)$/,""),10)},cssUrlToSrc:function(t,e){var n=new RegExp("^url\\((?:'|\")?([^'\"]+)(?:'|\")?\\)$","i"),i=n.exec(t);return this.isSet(i)?this.isSet(e)?i[1].substr(e.length):i[1]:""},remByPx:function(t,e){return t=parseInt(t,10),e=this.orDefault(e,"html"),t/(this.isInt(e)?e:this.cssToInt($(""+e).css("font-size")))+"rem"},preloadImages:function(t,e,n){n=this.orDefault(n,!1,"bool");var i,a=this,s=null,r=$.Deferred();if(!$.isPlainObject(t)&&!$.isArray(t)){if(i=""+t,this.exists(i,this.jqueryAnnexData.preloadedImages.named))return this.jqueryAnnexData.preloadedImages.named[i];t=[i]}if($.isPlainObject(t)){var o={};$.each(t,function(t,e){t=""+t,e=""+e,a.exists(t,a.jqueryAnnexData.preloadedImages.named)||(o[t]=new Image,o[t].src=e)}),$.extend(this.jqueryAnnexData.preloadedImages.named,o),s=this.jqueryAnnexData.preloadedImages.named}else $.isArray(t)&&($.each(t,function(t,e){var n=new Image;n.src=""+e,a.jqueryAnnexData.preloadedImages.unnamed.push(n)}),s=this.jqueryAnnexData.preloadedImages.unnamed);var l=[];return $.each(this.jqueryAnnexData.preloadedImages.named,function(t,e){
l.push(e)}),$.merge(l,this.jqueryAnnexData.preloadedImages.unnamed),$(l).imgLoad(function(t,n){$.isFunction(e)&&e(t,n),r.resolve()}),n?s:r.promise()},waitForWebfonts:function(t,e,n){t=$.isArray(t)?t:[""+t],n=this.orDefault(n,"sans-serif","string");var i=this,a=$.Deferred(),s=0;return $.each(t,function(r,o){var l=this.elem("span").html("giItT1WQy@!-/#").css({position:"absolute",visibility:"hidden",left:"-10000px",top:"-10000px","font-size":"300px","font-family":n,"font-variant":"normal","font-style":"normal","font-weight":"normal","letter-spacing":"0","white-space":"pre"});$("body").append(l);var u=l.width();l.css("font-family",o+", "+n);var c=null,h=function(){return l&&l.width()!==u&&(s++,l.remove(),l=null),s>=t.length&&(i.isSet(c)&&i.countermand(c),s===t.length&&"resolved"!==a.state())&&($.isFunction(e)&&e(),a.resolve(),!0)};h()||(c=this.loop(50,h))}),a.promise()},isolateId:function(t){var e=String(t).match(/[0-9]+/);return this.isSet(e)&&e.length>0?e[0]:null},isPossibleId:function(t,e,n,i){e=this.orDefault(e,"","string"),n=this.orDefault(n,"","string");var a=null;return a=i?new RegExp("^"+e+"[0-9]+"+n+"$"):new RegExp("^"+this.maskForRegEx(e)+"[0-9]+"+this.maskForRegEx(n)+"$"),a.test(""+t)},bindCursorKey:function(t,e,n){var i={up:38,right:39,down:40,left:37};this.isSet(n)||(n="keydown"),this.exists(t,i)&&$(document).on(n+"."+t,function(n){n.keyCode===i[t]&&e(n)})},unbindCursorKey:function(t,e){var n={up:38,right:39,down:40,left:37};this.isSet(e)||(e="keydown"),this.exists(t,n)&&$(document).off(e+"."+t)},removeSelection:function(){this.exists("getSelection")?window.getSelection().removeAllRanges():this.exists("getSelection",document)&&document.getSelection().removeAllRanges(),this.exists("selection",document)&&document.selection.empty()}}),$.extend({getCSS:$.getCss}),$.fn.extend({oo:function(){if(1===$(this).length)return $(this).first()[0];if($(this).length>1){var t=[];return $(this).each(function(){t.push($(this).first()[0])}),t}return null},outerHtml:function(t){var e=!$(this).oo().outerHTML;if($.isSet(t)){var n=$([]);return $(this).each(function(){if(e){var i=null,a=null,s=-1;0===$(this).parent().parent().length?i=$("html"):(a=$(this).parent(),s=$(this).index()),$(this).oo().outerHTML=""+t,$.isSet(i)||(i=a.children().eq(s)),n=n.add(i)}else{var r=$(this).wrap("<div/>").parent();r.html(t);var o=r.children().first();o.unwrap(),n=n.add(o)}}),n}if(e)return $(this).oo().outerHTML;var i=$(this).first().wrap("<div/>").parent().html();return $(this).first().unwrap(),i},dataDuo:function(t,e){t=$.orDefault(t,null,"string");var n=null,i="";if($.isFunction(e)&&(e=e()),void 0!==e)try{i=JSON.stringify(e)}catch(a){i=""+e}if($.isSet(t))if(void 0!==e){var s;try{s=JSON.parse(e)}catch(a){s=e}$(this).data(t,s),$(this).attr("data-"+t,i),n=this}else if(n=$(this).data(t),!$.isSet(n)){try{n=JSON.parse($(this).attr("data-"+t))}catch(a){n=$(this).attr("data-"+t)}$(this).data(t,n)}return n},removeDataDuo:function(t){return t=$.orDefault(t,null,"string"),$.isSet(t)&&$(this).removeAttr("data-"+t).removeData(t),this},isInDom:function(){return $(this).closest(document.documentElement).length>0},measureHidden:function(t,e,n){var i=null;$.isSet(n)||(n=$("body")),n.sandbox();var a=$(this).clone();n.children("#sandbox").append(a);var s=null;return s=$.isSet(e)?a.find(""+e):a,i=$.proxy($.fn[""+t],s)(),n.removeSandbox(),i},rehide:function(t){return t=$.orDefault(t,"hidden","string"),$(this).each(function(){$(this).hasClass(t)&&$(this).removeClass(t).hide()}),this},findTextNodes:function(t,e){t=$.isFunction(t)?t:function(){return!0},e=$.orDefault(e,!1,"bool");var n=$();return $.each($(this),function(){var i=this,a=$(this);e||(a=a.add(a.find("*"))),a.each(function(){n=n.add($(this).contents().filter(function(){return 3===this.nodeType&&""!==$.trim($(this).text())&&!!t(this,i)}))})}),n},doselect:function(){return $(this).is("option, :text, textarea")&&($(this).is(":text, textarea")?$(this).each(function(){this.focus(),this.select()}):$(this).attr("selected","selected").prop("selected",!0)),this},deselect:function(){if($(this).is(":text, textarea")){var t=$(this).val(),e=function(){return!1};$(this).on("change.deselect",e).val("").val(t).off("change.deselect",e)}else $(this).removeAttr("selected").prop("selected",!1);return this},check:function(){return $(this).is(":checkbox, :radio")&&$(this).attr("checked","checked").prop("checked",!0),this},uncheck:function(){return $(this).removeAttr("checked").prop("checked",!1),this},enable:function(){return $(this).removeAttr("disabled").prop("disabled",!1),this},disable:function(){return $(this).is(":input")&&$(this).attr("disabled","disabled").prop("disabled",!0),this},formDataToObject:function(){for(var t=$(this).serializeArray(),e={},n=!1,i=0;i<t.length;i++)n=!1,t[i].name.indexOf("[]")!==-1&&(t[i].name=t[i].name.slice(0,t[i].name.indexOf("[]")),n=!0),$.isSet(e[t[i].name])?$.isArray(e[t[i].name])?e[t[i].name].push(t[i].value):e[t[i].name]=[e[t[i].name],t[i].value]:n?e[t[i].name]=[t[i].value]:e[t[i].name]=t[i].value;return e},formDataToFormData:function(t,e){t=$.orDefault(t,null,"array"),e=$.orDefault(e,null,"array");var n=this,i=$(this).formDataToObject();$.isSet(t)&&$.each(t,function(t,e){e=""+e;var a=$(n).find('[name="'+e+'"]');if(a.length>0&&$.isSet(a.oo().files)){var s=a.oo().files;i[e]=[],$.each(s,function(t,n){i[e].push(n)}),1===i[e].length&&(i[e]=i[e][0])}}),$.isSet(e)&&$.each(e,function(t,e){if($.hasMembers(e,["name","content","mimetype"])){var n=$.isArray(e.content)?e.content:[e.content];i[""+e.name]=new Blob([n],{type:""+e.mimetype})}});var a=new FormData;return $.each(i,function(t,e){e=$.isArray(e)?e:[e],$.each(e,function(e,n){a.append(""+t,n)})}),a},makeStylable:function(t,e){t=$.orDefault(t,null,"string"),e=$.orDefault(e,null,"string");var n=function(t){var e=$.isSet(t.attr("id")),n=[];return e&&(n=$('label[for="'+t.attr("id")+'"]')),0===n.length&&(n=t.parent("label")),0===n.length&&(t.wrap("<label></label>"),n=t.parent("label")),n},i=function(e){$.isSet(t)&&e.addClass(t)},a=function(t){if($.isSet(e)){var n=t.findTextNodes();n.length>0?n.each(function(){$(this).oo().textContent=e}):t.append(e)}};return $(this).each(function(){if(!$.isSet($(this).dataDuo("made-stylable"))||!$(this).dataDuo("made-stylable")){var t,s,r;$(this).is(":checkbox, :radio")?(t=n($(this)),i(t),a(t),$(this).on("change.stylableinput init.stylableinput",function(e){$(this).is(":checked")?t.addClass("checked"):t.removeClass("checked"),"change"===e.type&&$(this).is(":radio")&&$.isSet($(this).attr("name"))&&$(':radio[name="'+$(this).attr("name")+'"]').not($(this)).each(function(){s=n($(this)),s.removeClass("checked")})}),$(this).hide().triggerHandler("init.stylableinput")):$(this).is("select")?($(this).css({opacity:.01,position:"relative",width:"100%",height:"100%"}),$(this).cssCrossBrowser({appearance:"none"}),t=$.elem("span").addClass("selectlabel").css({position:"absolute",top:0,right:0,bottom:0,left:0}),$.isSet(e)?t.html(e):t.text($(this).children("option").first().text()),r=$.elem("div").addClass("selectproxy").css("position","relative"),i(r),$.isSet($(this).attr("id"))&&r.attr("id","selectproxy-for-"+$(this).attr("id")),$(this).before(r),r.append(t).append($(this)),$(this).on("click.stylableinput",function(t){t.stopPropagation()}).on("change.stylableinput init.stylableinput",function(){var e=$(this).children("option:selected").first();e.length>0&&t.text(e.text())}).triggerHandler("init.stylableinput"),r.on("click.stylableinput",function(){$(this).children("select").click()})):$(this).is(":file")&&(t=n($(this)),t.append($(this)).removeAttr("for"),i(t),a(t),t.css("position","relative"),$(this).css({opacity:.01,position:"absolute",width:1,height:1,top:0,left:0}))}$(this).dataDuo("made-stylable",!0)}),this},moveEventData:function(t,e,n,i,a){t=$.orDefault(t,"","string");var s=this,r=t.split(" ");return $.each(r,function(t,r){r=$.trim(r),e=$.isFunction(e)?e:$._data,n=$.orDefault(n,"events","string"),i=$.isFunction(i)?i:$.data,a=$.orDefault(a,"jqueryAnnexData_pausedEvents","string");var o=$(s).oo(),l=e(o,n);if($.isSet(l)){var u=[],c=r.split("."),h=c[0],d=c.length>1?c[1]:"",f=""===h?Object.keys(l):$.isSet(l[h])?[h]:[];$.each(f,function(t,e){$.each(l[e],function(t,n){if(n.type===e&&(""===d||""!==d&&n.namespace===d)){$.isSet(i(o,a))||i(o,a,{});var s=i(o,a);$.isSet(s[e])||(s[e]=[],s[e].delegateCount=l[e].delegateCount),s[e].push(n),u.push(n.guid)}})});var g={};$.each(e(o,n),function(t,e){$.each(e,function(t,n){$.inArray(n.guid,u)<0&&($.isSet(g[n.type])||(g[n.type]=[],g[n.type].delegateCount=e.delegateCount),g[n.type].push(n))})}),e(o,n,g)}}),this},pauseHandlers:function(t){return $.proxy($.fn.moveEventData,this,t,$._data,"events",$.data,"jqueryAnnexData_pausedEvents")()},resumeHandlers:function(t){return $.proxy($.fn.moveEventData,this,t,$.data,"jqueryAnnexData_pausedEvents",$._data,"events")()},translateTouchToMouseEvents:function(t){return $(this).on("touchstart touchmove touchend",function(e){var n=e.target===this;if(n||!$.isSet(t)||!t){var i=!n&&e.target.__ajqmeclk,a=e.originalEvent;if(i!==!0&&$.isSet(a)&&$.isSet(a.touches)&&a.touches.length<=1&&$.inArray(a.type.toLowerCase(),$.jqueryAnnexData.touch.types)<0){var s=!n&&!$.isA(i,"boolean")&&$(e.target).data("events"),r=!1;if(n?r=!1:(e.target.__ajqmeclk=s,r=$.isSet(s)&&($.isSet(s.click)||$.isSet(s.mousedown)||$.isSet(s.mouseup)||$.isSet(s.mousemove))),!r&&$.inArray(e.target.tagName.toLowerCase(),$.jqueryAnnexData.touch.inputs)<0){var o=a.changedTouches[0],l=document.createEvent("MouseEvent");l.initMouseEvent($.jqueryAnnexData.touch.types[e.type.toLowerCase()],!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),l.synthetic=!0,o.target.dispatchEvent(l),a.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()}}}}),this},bindSwipeGesture:function(t,e,n,i,a){if($.assert($.inArray(t,["up","right","down","left"])>=0,"bindSwipeGesture | direction is not in up/right/down/left"),$.assert($.isFunction(e),"bindSwipeGesture | callback is not a function"),n=$.orDefault(n,"annexSwipeGesture","string"),i=$.orDefault(i,.2,"float"),a=$.orDefault(a,!0,"bool"),!a||$.contextIsTouchDevice()){var s=$(this),r={startX:0,startY:0,endX:0,endY:0};$(this).on("touchstart."+n+"-"+t,function(t){r.startX=t.originalEvent.changedTouches[0].screenX,r.startY=t.originalEvent.changedTouches[0].screenY}).on("touchend."+n+"-"+t,function(n){var a=s.outerWidth(),o=s.outerHeight();switch(r.endX=n.originalEvent.changedTouches[0].screenX,r.endY=n.originalEvent.changedTouches[0].screenY,t){case"up":r.startY>r.endY+o*i&&e(n);break;case"right":r.startX<r.endX-a*i&&e(n);break;case"down":r.startY<r.endY-o*i&&e(n);break;case"left":r.startX>r.endX+a*i&&e(n)}})}return this},unbindSwipeGesture:function(t,e){e=$.orDefault(e,"annexSwipeGesture","string");var n=this;return $.isSet(t)?($.assert($.inArray(t,["up","right","down","left"])>=0,"bindSwipeGesture | direction is not in up/right/down/left"),$(this).off("touchstart".eventNameSpace+"-"+t+" touchend."+e+"-"+t)):$.each(["up","right","down","left"],function(t,i){$(n).off("touchstart".eventNameSpace+"-"+i+" touchend."+e+"-"+i)}),this},setElementIdentity:function(id,classes,style,$inheritFrom){var _this_=this,copyAttrs=["id","class","style"];return $.isSet($inheritFrom)&&$.isA($inheritFrom,"object")&&$.each($inheritFrom[0].attributes,function(index,attribute){$.inArray(attribute.name,copyAttrs)!==-1?$(_this_).attr(attribute.name,attribute.value):0===attribute.name.indexOf("data-")?$(_this_).dataDuo(attribute.name,attribute.value):0===attribute.name.indexOf("on")&&$(_this_).on(attribute.name.substring(2)+".frommarkup",function(){eval(attribute.value)})}),$.isSet(id)&&$(this).attr("id",""+id),$.isSet(classes)&&($.isArray(classes)?$.each(classes,function(t,e){$(_this_).addClass(e)}):$(this).attr("class",($.isSet($(this).attr("class"))?$(this).attr("class")+" ":"")+classes)),$.isSet(style)&&($.isPlainObject(style)?$(this).css(style):$(this).attr("style",($.isSet($(this).attr("style"))?$(this).attr("style")+" ":"")+style)),this},prime:function(t,e,n){e=$.orDefault(e,!1,"bool"),n=$.orDefault(n,[],"array");var i=$.Deferred();i.resolve();var a=[i.promise()];$(this).each(function(){if($(this).dataDuo("primed")!==!0){var e=this;$(function(){var n=$.proxy(t,e)();$.isSet(n)&&$.isFunction(n.promise)&&$.isFunction(n.done)&&$.isFunction(n.fail)&&a.push(n),$(e).dataDuo("primed",!0)})}});var s=function(){n.length>0&&$(this).removeClass(n.join(" "))};return e?($.when.apply($,a).then($.proxy(s,this)),$.when.apply($,a).promise()):($.proxy(s,this)(),this)},urlParameter:function(t){$.isSet(t)&&(t=""+t);var e=[],n={},i=null,a="";if("#document"===$(this).prop("nodeName"))$.isSet(t)?window.location.search.indexOf(t)>-1&&(i=window.location.search.substr(1,window.location.search.length).split("&")):i=window.location.search.substr(1,window.location.search.length).split("&");else if($.isSet($(this).attr("src")))a=$(this).attr("src"),a.indexOf("?")>-1&&(i=a.substr(a.indexOf("?")+1).split("&"));else{if(!$.isSet($(this).attr("href")))return null;a=$(this).attr("href"),a.indexOf("?")>-1&&(i=a.substr(a.indexOf("?")+1).split("&"))}if(null===i)return null;for(var s=null,r=null,o=0;o<i.length;o++)s=i[o].split("="),r=!(s.length>1)||s[1],$.isSet(t)?s[0]===t&&e.push(r):""!==s[0]&&($.isSet(n[s[0]])?($.isArray(n[s[0]])||(n[s[0]]=[n[s[0]]]),n[s[0]].push(r)):n[s[0]]=r);return $.isSet(t)?0===e.length?null:1===e.length?e[0]:e:n},urlParameters:function(){return $(this).urlParameter()},urlAnchor:function(t){var e=null,n=[];if("#document"===$(this).prop("nodeName"))e=window.location.hash;else if($.isSet($(this).attr("src")))n=$(this).attr("src").split("#"),n.length>1&&(e="#"+n[1]);else{if(!$.isSet($(this).attr("href")))return null;n=$(this).attr("href").split("#"),n.length>1&&(e="#"+n[1])}return $.isSet(t)&&t&&(e=e.replace("#","")),$.isSet(e)&&""===$.trim(e)&&(e=null),e},isInViewport:function(t){var e=null;try{e=$(this).first().oo().getBoundingClientRect()}catch(n){return!0}t=!!$.isSet(t)&&!!t;var i=null,a=window.innerWidth||$(window).width(),s=window.innerHeight||$(window).height();return i=t?{top:0,right:a,bottom:s,left:0}:{top:-(e.bottom-e.top)+1,right:a+(e.right-e.left)+1,bottom:s+(e.bottom-e.top)+1,left:-(e.right-e.left)+1},e.top>=i.top&&e.right<=i.right&&e.left>=i.left&&e.bottom<=i.bottom},scrollTo:function(t,e,n,i,a){t=$.isFunction(t)?t:$.noop,e=$.orDefault(e,1e3,"int"),n=$.orDefault(n,0,"int"),i=$.orDefault(i,!1,"bool"),a=$.orDefault(a,!1,"bool");var s=$(this).first();if($.isSet(s)&&s.length>0){var r=!1,o=window.innerHeight||$(window).height(),l=s.isInViewport(!0);try{s.oo().getBoundingClientRect()}catch(u){l=!1}i||!l?(a&&$(window).on("DOMMouseScroll.scrollTo mousewheel.scrollTo",function(){$("html, body").stop(!0),$(window).off("DOMMouseScroll.scrollTo mousewheel.scrollTo")}),$("html, body").stop(!0).animate({scrollTop:s.offset().top-Math.round(o/2)+n},{duration:e,complete:function(){r||(t(),r=!0)}})):r||(t(),r=!0)}return this},imgLoad:function(t,e){var n=$(this).filter("img"),i=$(),a=n.length,s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",r=function(r){if((!e||e&&$(this).width()>0)&&this.src!==s)--a<=0&&$.isFunction(t)&&(n.off("load.imgload"),i.off("load.imgload"),t.call(n,r));else{var o=$(this);$.schedule(10,function(){o.trigger("load.imgload")})}};return n.on("load.imgload",r).each(function(){var t=this.src,e=$(this).parent(),n=e.is("picture");if(n||this.complete||void 0===this.complete)if(n){var a=$();window.respimage?(window.respimage({elements:[e.oo()]}),a=e.children("img").first()):window.picturefill?(window.picturefill({elements:[e.oo()]}),a=e.children("img").first()):a=$(this),i=a,$(this).off("load.imgload"),a.each(function(){var e=$(this).oo();if($(this).off("load.imgload"),e.complete||void 0===e.complete){var n=new Image;$(n).on("load.imgload",$.proxy(r,this)),n.src=t}else $(this).on("load.imgload",$.proxy(r,this))})}else{$(this).off("load.imgload");var s=new Image;$(s).on("load.imgload",$.proxy(r,this)),s.src=t}}),this},highDpiBackgroundImage:function(t,e,n,i){t=$.isPlainObject(t)?[t]:t,e=$.isInt(e)?e:$.isSet(e)?$.cssToInt($(""+e).css("max-width")):null,n=$.orDefault(n,!1,"bool"),i=$.orDefault(i,500,"int"),$.isSet(e)||(e=$.cssToInt($("body").css("max-width")),$.isNaN(e)&&(e=0));var a=this,s=function(){if($(a).isInDom()){for(var i=[],s="",r="",o=$.contextHasHighDpi(),l=window.innerWidth||$(window).width(),u=0;u<t.length;u++){var c=t[u];if($.exists("standard.url",c)){$.exists("highdpi",c)||(c.highdpi=$.extend({},c.standard));var h=!$.isSet(c.standard.width,c.standard.height,c.highdpi.width,c.highdpi.height)||n,d={url:c.standard.url,width:c.standard.width,height:c.standard.height};(h&&l>e/2&&o||!h&&o)&&(d.url=c.highdpi.url,d.width=parseInt(c.highdpi.width,10),d.height=parseInt(c.highdpi.height,10)),i.push(d.url),s+=(""!==s?", ":"")+"url("+d.url+")",$.isSet(d.width,d.height)&&d.width>0&&d.height>0&&(r+=(""!==r?", ":"")+d.width+"px "+d.height+"px")}else $.log("highDpiBackgroundImage | image is missing a standard dict:",c)}for(var f=null,g=0,p=0;p<i.length;p++)f=new Image,$(f).imgLoad(function(){g++,g>=i.length&&$(a).css("background-image",s).cssCrossBrowser({"background-size":r})}),f.src=i[p]}};return s(),$.jqueryAnnexData.highDpiBackgroundImages.targetClosures.push(s),$(window).off("resize.highdpibackgroundimages").on("resize.highdpibackgroundimages",function(){$.jqueryAnnexData.highDpiBackgroundImages.checkTimer=$.reschedule($.jqueryAnnexData.highDpiBackgroundImages.checkTimer,i,function(){for(var t=0;t<$.jqueryAnnexData.highDpiBackgroundImages.targetClosures.length;t++)$.jqueryAnnexData.highDpiBackgroundImages.targetClosures[t]()})}),this},loopAnimation:function(t,e){return e=!$.isSet(e)||!!e,$.isFunction(t)&&(e&&$(this).stop(!0,!0),$(this).queue(function(e){t($(this)),$(this).queue(arguments.callee),e()})),this},cssCrossBrowser:function(t){if($.isPlainObject(t)){var e=$.extend({},t);$.each(e,function(e,n){$.each(["-moz-","-webkit-","-o-","-ms-","-khtml-"],function(i,a){"transition"===e?t[a+e]=$.strReplace("transform",a+"transform",n):t[a+e]=n})}),$(this).css(t)}return this},createSelection:function(t,e,n){t=$.orDefault(t,null,"int"),e=$.orDefault(e,null,"int"),n=$.orDefault(n,!1,"bool");var i="";return $.each($(this),function(){var n,a,s;if($.exists("selectionStart",this)&&$.exists("selectionEnd",this))$(this).doselect(),s=$(this).val(),this.selectionStart=t,this.selectionEnd=s.length-e,i=s.substring(this.selectionStart,this.selectionEnd);else if($.exists("getSelection")){if(a=window.getSelection(),n=document.createRange(),n.selectNodeContents($(this).oo()),$.isSet(t)||$.isSet(e)){var r=$(this).findTextNodes(),o=r.first().oo(),l=0,u=r.last().oo(),c=r.length-1;if($.isSet(t)){for(var h=t,d=h<=o.length;!d;)l++,h-=o.length,o=r.eq(l).oo(),d=h<=o.length;n.setStart(o,h)}if($.isSet(e)){for(var f=e,g=f<=u.length;!g;)c--,f-=u.length,u=r.eq(c).oo(),g=f<=u.length;n.setEnd(u,u.length-f)}}a.removeAllRanges(),a.addRange(n),i=n.toString()}else $.exists("body.createTextRange",document)&&(n=document.body.createTextRange(),n.moveToElementText($(this).oo()),$.isSet(t)&&n.moveStart("character",t),$.isSet(e)&&n.moveEnd("character",-e),n.select(),i=n.text)}),n?i:this},disableSelection:function(){return $(this).each(function(){this.onselectstart=function(){return!1},this.unselectable="on",$(this).cssCrossBrowser({"user-select":"none"}),$(this).css("-webkit-touch-callout","none")}),this},registerMailto:function(t,e,n,i,a,s,r){return r=$.orDefault(r,"click","string"),i=$.orDefault(i,"","string"),a=$.orDefault(a,"","string"),$(this).on(r,function(){$.redirect("mailto:"+e+"@"+n+"."+t+"?subject="+encodeURIComponent(i)+"&body="+encodeURIComponent(a))}),$.isSet(s)&&s&&$(this).html((e+"@"+n+"."+t).replace(/(\w{1})/g,"$1&zwnj;")),this},registerTel:function(t,e,n,i,a,s){return s=$.orDefault(s,"click","string"),0!==(""+n).indexOf("+")&&(n="+"+n),$(this).on(s,function(){$.redirect("tel:"+n+t+$.strReplace(["-"," "],"",""+e+i))}),$.isSet(a)&&a&&$(this).html((n+t+" "+e+i).replace(/(\w{1})/g,"$1&zwnj;")),this},multiLineTextEllipsis:function(t,e,n){t=$.orDefault(t,".text-content","string"),e=$.orDefault(e,"","string"),n=$.orDefault(n,"...","string");var i=this;return $(this).find(t).each(function(){var t=""!==$.trim(e)?$(this).closest(e):$(this).parent();$(i).data("annexMultilineEllipsisOrgText")||$(i).data("annexMultilineEllipsisOrgText",$(this).text());var a=$(i).data("annexMultilineEllipsisOrgText");$(this).text(a);for(var s=0;s<$(i).data("annexMultilineEllipsisOrgText").length;s++){if(!($(this).outerHeight()>t.height()+2||$(this).outerWidth()>t.width())){if(a!==$(i).data("annexMultilineEllipsisOrgText")){a=a.slice(0,-(n.length+1))+" "+n,$(this).text(a);break}break}a=a.slice(0,-1),$(this).text(a)}}),this},sandbox:function(){return $(this).append($.elem("div",{id:"sandbox",style:"position:absolute; visibility:hidden; display:block;"})),this},removeSandbox:function(){return $(this).find("#sandbox").remove(),this}}),$.Class.extend=function(t){function e(){!$.jqueryAnnexData.inheritance.initializing&&this.init&&this.init.apply(this,arguments)}var n=this.prototype;$.jqueryAnnexData.inheritance.initializing=!0;var i=new this;$.jqueryAnnexData.inheritance.initializing=!1;for(var a in t)i[a]="function"==typeof t[a]&&"function"==typeof n[a]&&$.jqueryAnnexData.inheritance.fnTest.test(t[a])?function(t,e){return function(){var i=this._super;this._super=n[t];var a=e.apply(this,arguments);return this._super=i,a}}(a,t[a]):t[a];return e.prototype=i,e.prototype.constructor=e,e.extend=arguments.callee,e},$.SaneDate=$.Class.extend({_date:null,_compareDate:null,_utc:!1,_ignoreInvalidPartChanged:!1,_valid:!0,init:function(t,e,n,i,a,s,r){$.isA(t,"date")||(t=$.orDefault(t,null,"string"));var o=!0,l={type:"date",year:null,month:$.orDefault(e,null,"int"),date:$.orDefault(n,null,"int"),hours:$.orDefault(i,null,"int"),minutes:$.orDefault(a,null,"int"),seconds:$.orDefault(s,null,"int"),milliseconds:$.orDefault(r,null,"int")};if(this._setupDatePartGettersAndSetters(),$.isSet(t))if($.isA(t,"date"))$.isNaN(t.getDate())?this._setInvalid():this._date=t;else{if(!$.isA(t,"date"))if((""+t).indexOf("-")<0)l.year=parseInt(t,10),$.isSet(l.hours)&&(l.type="datetime");else try{l=this._parseIsoString(t)}catch(u){l=null}if($.isSet(l))try{o=this._verifyDateParts(l)}catch(u){o=!1}$.isSet(l)&&o?this._date=this._partsToDate(l):this._setInvalid()}else this._date=new Date},_setupDatePartGettersAndSetters:function(){var t=this,e={enumerable:!0};Object.defineProperty(this,"valid",$.extend({},e,{set:function(){throw"SaneDate set valid | valid is not settable"},get:function(){return this._valid}})),Object.defineProperty(this,"year",$.extend({},e,{set:function(e){e=parseInt(e,10),$.assert(!$.isNaN(e),"SaneDate set year | value is not usable as int"),$.assert(e>=0&&e<=9999,"SaneDate set year | this implementation works with years between 0 and 9999"),t.utc?t._tryDatePartChange(e,"setUTCFullYear","getUTCFullYear",!t._ignoreInvalidPartChanged):t._tryDatePartChange(e,"setFullYear","getFullYear",!t._ignoreInvalidPartChanged)},get:function(){if($.isSet(t._date)&&t._valid)return t._utc?t._date.getUTCFullYear():t._date.getFullYear()}})),Object.defineProperty(this,"month",$.extend({},e,{set:function(e){e=parseInt(e,10),$.assert(!$.isNaN(e),"SaneDate set month | value is not usable as int"),t.utc?t._tryDatePartChange(e-1,"setUTCMonth","getUTCMonth",!t._ignoreInvalidPartChanged):t._tryDatePartChange(e-1,"setMonth","getMonth",!t._ignoreInvalidPartChanged)},get:function(){if($.isSet(t._date)&&t._valid)return t._utc?t._date.getUTCMonth()+1:t._date.getMonth()+1}})),Object.defineProperty(this,"date",$.extend({},e,{set:function(e){e=parseInt(e,10),$.assert(!$.isNaN(e),"SaneDate set date | value is not usable as int"),t.utc?t._tryDatePartChange(e,"setUTCDate","getUTCDate",!t._ignoreInvalidPartChanged):t._tryDatePartChange(e,"setDate","getDate",!t._ignoreInvalidPartChanged)},get:function(){if($.isSet(t._date)&&t._valid)return t._utc?t._date.getUTCDate():t._date.getDate()}})),Object.defineProperty(this,"hours",$.extend({},e,{set:function(e){e=parseInt(e,10),$.assert(!$.isNaN(e),"SaneDate set hours | value is not usable as int"),t.utc?t._tryDatePartChange(e,"setUTCHours","getUTCHours",!t._ignoreInvalidPartChanged):t._tryDatePartChange(e,"setHours","getHours",!t._ignoreInvalidPartChanged)},get:function(){if($.isSet(t._date)&&t._valid)return t._utc?t._date.getUTCHours():t._date.getHours()}})),Object.defineProperty(this,"minutes",$.extend({},e,{set:function(e){e=parseInt(e,10),$.assert(!$.isNaN(e),"SaneDate set minutes | value is not usable as int"),t.utc?t._tryDatePartChange(e,"setUTCMinutes","getUTCMinutes",!t._ignoreInvalidPartChanged):t._tryDatePartChange(e,"setMinutes","getMinutes",!t._ignoreInvalidPartChanged)},get:function(){if($.isSet(t._date)&&t._valid)return t._utc?t._date.getUTCMinutes():t._date.getMinutes()}})),Object.defineProperty(this,"seconds",$.extend({},e,{set:function(e){e=parseInt(e,10),$.assert(!$.isNaN(e),"SaneDate set seconds | value is not usable as int"),t.utc?t._tryDatePartChange(e,"setUTCSeconds","getUTCSeconds",!t._ignoreInvalidPartChanged):t._tryDatePartChange(e,"setSeconds","getSeconds",!t._ignoreInvalidPartChanged)},get:function(){if($.isSet(t._date)&&t._valid)return t._utc?t._date.getUTCSeconds():t._date.getSeconds()}})),Object.defineProperty(this,"milliseconds",$.extend({},e,{set:function(e){e=parseInt(e,10),$.assert(!$.isNaN(e),"SaneDate set milliseconds | value is not usable as int"),t.utc?t._tryDatePartChange(e,"setUTCMilliseconds","getUTCMilliseconds",!t._ignoreInvalidPartChanged):t._tryDatePartChange(e,"setMilliseconds","getMilliseconds",!t._ignoreInvalidPartChanged)},get:function(){if($.isSet(t._date)&&t._valid)return t._utc?t._date.getUTCMilliseconds():t._date.getMilliseconds()}}))},setUtc:function(t){return this._utc=!!t,this},setIgnoreInvalidPartChanged:function(t){return this._ignoreInvalidPartChanged=!!t,this},getWeekDay:function(t){if(t=$.orDefault(t,!0,"bool"),$.isSet(this._date)&&this._valid){var e=this._utc?this._date.getUTCDay():this._date.getDay();return t&&0===e&&(e=7),t||(e+=1),e}},getIsoDateString:function(){if($.isSet(this._date)&&this._valid){var t=this._utc?this._date.getUTCFullYear():this._date.getFullYear(),e=this._utc?this._date.getUTCMonth()+1:this._date.getMonth()+1,n=this._utc?this._date.getUTCDate():this._date.getDate();return t=""+t,e=e<10?"0"+e:""+e,n=n<10?"0"+n:""+n,t<1e3&&(t=this._padValueWithZero(t,4)),$.strFormat("{year}-{month}-{date}",{year:t,month:e,date:n})}return null},getIsoString:function(t){t=$.orDefault(t,!0,"bool");var e=this.getIsoDateString();if($.isSet(e)){var n=this._utc?this._date.getUTCHours():this._date.getHours(),i=this._utc?this._date.getUTCMinutes():this._date.getMinutes(),a=this._utc?this._date.getUTCSeconds():this._date.getSeconds(),s=this._utc?this._date.getUTCMilliseconds():this._date.getMilliseconds();return n=n<10?"0"+n:""+n,i=i<10?"0"+i:""+i,a=a<10?"0"+a:""+a,s=""+s,e+(t?"T":" ")+$.strFormat("{hours}:{minutes}:{seconds}.{milliseconds}",{hours:n,minutes:i,seconds:a,milliseconds:s})}return null},getVanillaDate:function(){return this._valid?this._date:null},compareTo:function(t,e,n){e=$.orDefault(e,"datetime","string"),n=$.orDefault(n,!0,"bool");var i=this;if($.isSet(this._date)&&this._valid){var a=null;if(a=$.isA(t,"object")&&$.hasMembers(t,["_date","_valid"])?t:new $.SaneDate(""+t),a._valid){var s=0,r=["getFullYear","getMonth","getDate"],o=["getHours","getMinutes","getSeconds"],l=["getMilliseconds"],u=[];$.merge(u,r),"datetime"===e&&($.merge(u,o),n&&$.merge(u,l));var c,h;return $.each(u,function(t,e){if(c=i._date[e](),h=a._date[e](),s=h>c?-1:c>h?1:0,0!==s)return!1}),s}throw"SaneDate compareTo | invalid compare date"}throw"SaneDate compareTo | date currently not comparable"},move:function(t,e){e=$.orDefault(e,0,"int");var n=this,i=["years","months","days","hours","minutes","seconds","milliseconds"];if($.isSet(this._date)&&this._valid){var a={};return $.isPlainObject(t)?a=t:a[""+t]=e,$.each(a,function(t,e){if(!($.inArray(""+t,i)>=0))throw"SaneDate _move | part must be one of years, months, days, hours, minutes, seconds, milliseconds";switch(""+t){case"years":n._date.setFullYear(n._date.getFullYear()+e);break;case"months":n._date.setMonth(n._date.getMonth()+e);break;case"days":n._date.setDate(n._date.getDate()+e);break;case"hours":n._date.setHours(n._date.getHours()+e);break;case"minutes":n._date.setMinutes(n._date.getMinutes()+e);break;case"seconds":n._date.setSeconds(n._date.getSeconds()+e);break;case"milliseconds":n._date.setMilliseconds(n._date.getMilliseconds()+e)}}),this}throw"SaneDate _move | current date is not usable"},forward:function(t,e){e=$.orDefault(e,0,"int");var n={};return $.isPlainObject(t)?(n=t,$.each(n,function(t,e){n[t]=Math.abs(e)})):n[""+t]=Math.abs(e),this.move(n)},back:function(t,e){e=$.orDefault(e,0,"int");var n={};return $.isPlainObject(t)?(n=t,$.each(n,function(t,e){n[t]=0===e?0:-Math.abs(e)})):n[""+t]=0===e?0:-Math.abs(e),this.move(n)},delta:function(t,e,n){if(e=$.orDefault(e,"days","string"),$.inArray(e,["days","hours","minutes","seconds","milliseconds"])<0)throw'SaneDate delta | largestUnit must be one of "days", "hours", "minutes", "seconds" or "milliseconds"';if(n=$.orDefault(n,!0,"bool"),$.isSet(this._date)&&this._valid){var i=null,a=null,s={};i=$.isA(t,"object")&&$.hasMembers(t,["_date","_valid"])?t:new $.SaneDate(""+t),a=n?Math.abs(this._date.getTime()-i._date.getTime()):this._date.getTime()-i._date.getTime();var r=a<0;return a=Math.abs(a),"days"===e&&(s.days=Math.floor(a/1e3/60/60/24),a-=1e3*s.days*60*60*24,e="hours"),"hours"===e&&(s.hours=Math.floor(a/1e3/60/60),a-=1e3*s.hours*60*60,e="minutes"),"minutes"===e&&(s.minutes=Math.floor(a/1e3/60),a-=1e3*s.minutes*60,e="seconds"),"seconds"===e&&(s.seconds=Math.floor(a/1e3),a-=1e3*s.seconds,e="milliseconds"),"milliseconds"===e&&(s.milliseconds=a),r&&$.each(s,function(t,e){s[t]=0===e?0:-e}),s}},clone:function(){return new $.SaneDate(this.getIsoString())},_setInvalid:function(){this._date=null,this._valid=!1},_padValueWithZero:function(t,e){e=$.orDefault(e,2,"int"),t=parseInt(t,10),$.assert(!$.isNaN(t),"SaneDate _padValueWithZero | value is not usable as int"),t=""+t;var n=t.length;if(n<e)for(var i=0;i<e-n;i++)t="0"+t;return t},_partsToDate:function(t,e){e=$.orDefault(e,!1,"bool");var n=$.extend({},t);if(n.year=this._padValueWithZero(n.year,4),n.month=this._padValueWithZero(n.month),n.date=this._padValueWithZero(n.date),"date"===n.type)return new Date($.strFormat("{year}-{month}-{date}T00:00:00.0",n));if("datetime"===n.type){n.hours=this._padValueWithZero(n.hours),n.minutes=this._padValueWithZero(n.minutes),n.seconds=this._padValueWithZero(n.seconds),$.isSet(n.milliseconds)&&(n.seconds+="."+n.milliseconds);var i=new Date($.strFormat("{year}-{month}-{date}T{hours}:{minutes}:{seconds}",n));return e?new Date(i.getTime()-6e4*i.getTimezoneOffset()):i}throw"_partsToDate | unknown type"},_verifyDateParts:function(t){var e=this._partsToDate(t);if("date"===t.type)return parseInt(t.year,10)===(this._utc?e.getUTCFullYear():e.getFullYear())&&parseInt(t.month,10)===(this._utc?e.getUTCMonth()+1:e.getMonth()+1)&&parseInt(t.date,10)===(this._utc?e.getUTCDate():e.getDate());if("datetime"===t.type)return parseInt(t.year,10)!==(this._utc?e.getUTCFullYear():e.getFullYear())||parseInt(t.month,10)!==(this._utc?e.getUTCMonth()+1:e.getMonth()+1)||parseInt(t.date,10)!==(this._utc?e.getUTCDate():e.getDate())||parseInt(t.hours,10)!==(this._utc?e.getUTCHours():e.getHours())||parseInt(t.minutes,10)!==(this._utc?e.getUTCMinutes():e.getMinutes())||parseInt(t.seconds,10)!==(this._utc?e.getUTCSeconds():e.getSeconds())||!$.isSet(t.milliseconds)||parseInt(t.milliseconds,10)===(this._utc?e.getUTCMilliseconds():e.getMilliseconds());throw"_verifyDateParts | unknown type"},_parseIsoString:function(t){t=""+t;var e={type:"date",year:null,month:null,date:null,hours:null,minutes:null,seconds:null,milliseconds:null},n=t.split("T");if(1===n.length&&(n=n[0].split(" ")),n.length>=2){var i=n[1].split(":");
if(!(i.length>=3))return null;var a=parseInt(i[0],10);$.assert(!$.isNaN(a),"SaneDate _parseIsoString | hours not usable as int"),e.hours=this._padValueWithZero(a);var s=parseInt(i[1],10);$.assert(!$.isNaN(s),"SaneDate _parseIsoString | minutes not usable as int"),e.minutes=this._padValueWithZero(s);var r=i[2];if(r=$.strReplace("Z","",r),r=r.split("+")[0],r=r.split("-")[0],r=r.split("."),r.length>=2){var o=parseInt(r[1],10);$.assert(!$.isNaN(o),"SaneDate _parseIsoString | milliseconds not usable as int"),e.milliseconds=""+o,e.milliseconds.length>3?e.milliseconds=e.milliseconds.substr(0,3):2===e.milliseconds.length?e.milliseconds=""+10*o:1===e.milliseconds.length&&(e.milliseconds=""+100*o)}var l=parseInt(r[0],10);$.assert(!$.isNaN(l),"SaneDate _parseIsoString | seconds not usable as int"),e.seconds=this._padValueWithZero(l),e.type="datetime"}var u=n[0].split("-");if(!(u.length>=3))return null;var c=parseInt(u[0],10);$.assert(!$.isNaN(c),"SaneDate _parseIsoString | year not usable as int"),$.assert(c>=0&&c<=9999,"SaneDate _parseIsoString | this implementation works with years between 0 and 9999"),e.year=this._padValueWithZero(c,4);var h=parseInt(u[1],10);$.assert(!$.isNaN(h),"SaneDate _parseIsoString | month not usable as int"),e.month=this._padValueWithZero(h);var d=parseInt(u[2],10);return $.assert(!$.isNaN(d),"SaneDate _parseIsoString | date not usable as int"),e.date=this._padValueWithZero(d),this._verifyDateParts(e)?e:null},_tryDatePartChange:function(t,e,n,i){i=$.orDefault(i,!1,"bool");var a=this,s=["getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds"];if(!$.isSet(this._date)){if(i)throw"SaneDate _tryDatePartChange | no date to change the part of";return!1}this._compareDate=this.clone()._date,this._date[e](t);var r=!1;if($.each(s,function(t,e){if(e!==n&&(r=r||a._date[e]()!==a._compareDate[e]()),r)return!1}),r&&(this._date=this._compareDate),this._compareDate=null,!i)return r;if(r)throw"SaneDate _tryDatePartChange | date part change is invalid or would change other parts"}}),$});
//# sourceMappingURL=jquery.annex.js.map
