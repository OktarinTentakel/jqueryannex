$.extend({log:function(){if(this.exists("console")&&$.isFunction(console.log)){$.each(arguments,function(a,b){console.log(b)})}},elem:function(a,b,e){var c="";if(this.isSet(b)){for(var d in b){c+=" "+d+'="'+b[d]+'"'}}if(this.isSet(e)){return $("<"+a+(this.isSet(c)?c:"")+">"+e+"</"+a+">")}else{return $("<"+a+(this.isSet(c)?c:"")+"/>")}},assert:function(b,a){if(!b){a=this.isSet(a)?""+a:"assert exception: assertion failed";throw a}},isSet:function(){var a=true;$.each(arguments,function(b,c){a=a&&((c!==undefined)&&(c!==null));if(!a){return false}});return a},exists:function(c,b){if(!this.isSet(b)){b=window}var a=true;$.each(c.split("."),function(d,e){a=a&&(undefined!==b[""+e]);if(a){b=b[""+e]}else{return false}});return a},isA:function(b,a){if($.inArray(a,["boolean","number","string","function","array","date","regexp","object"])){return $.type(b)==""+a}else{throw"type-identification exception: not asked for valid JS-type";return false}},strReplace:function(d,c,b){d=[].concat(d);c=[].concat(c);b=""+b;var a="";$.each(d,function(f,e){a=(c.length>1)?((c[f]!==undefined)?c[f]:""):c[0];b=b.split(e).join(a)});return b},strTruncate:function(b,a,c){b=""+b;if(!this.isSet(a)){a=30}if(!this.isSet(c)){c="..."}if(b.length>a){b=""+b.substr(0,a-c.length)+c}return b},schedule:function(a,c,b){if(this.isSet(b)){this.countermand(b)}if($.isFunction(c)){return{id:window.setTimeout(c,a),type:"timeout"}}return null},reschedule:function(c,a,b){return this.schedule(a,b,c)},loop:function(b,c,a){if(this.isSet(a)){this.countermand(a,true)}if($.isFunction(c)){return{id:window.setInterval(c,b),type:"interval"}}return null},countermand:function(b,a){if(this.isSet(b)){if($.isPlainObject(b)&&this.validate(b,["id","type"])){if(b.id=="interval"){window.clearInterval(b.id)}else{window.clearTimeout(b.id)}}else{if($.isA(b,"number")){if(!this.isSet(a)||!a){window.clearTimeout(b)}else{window.clearInterval(b)}}}}},redirect:function(d,h,l,p,n){var a=!this.isSet(d);if(!this.isSet(d)){d=window.location.href}if(this.isSet(this.urlAnchor())){d=d.replace(/\#.+$/,"")}var e=d.split("?",2);d=e[0];var j=this.isSet(e[1])?e[1]:"";var m={};if(j.length>0){var r=j.split("&");for(var k=0;k<r.length;k++){var o=r[k].split("=",2);if(o.length==2){m[""+o[0]]=o[1]}else{m[""+o[0]]=null}}}if(this.isSet(h)&&$.isPlainObject(h)){$.extend(m,h)}h=m;var g="";for(var c in h){if(this.isSet(h[c])){g+=c+"="+encodeURIComponent(decodeURIComponent(h[c]))+"&"}else{g+=c+"&"}}if(g.length>0){g=g.substring(0,g.length-1);if(d.indexOf("?")==-1){g="?"+g}else{g="&"+g}}if(!this.isSet(l)){l=a?this.urlAnchor(true):null}var q=d+((g.length>0)?g:"")+(this.isSet(l)?"#"+l:"");if(!this.isSet(p)&&!this.isSet(n)){window.location.href=q}else{if(!this.isSet(p)){p={}}var f={method:"post",action:q,"data-ajax":"false"};if(this.isSet(n)){$.extend(f,{target:""+n})}var b=this.elem("form",f);$.each(p,function(i,s){b.append($.elem("input",{type:"hidden",name:""+i,value:""+s}))});$("body").append(b);b.submit();b.remove()}},reload:function(a){window.location.reload(this.isSet(a)&&a)},openWindow:function(d,c,e){if(!this.isSet(e)){e=window}var b="";var a=[];if(this.isSet(c)){if(this.isSet(c.name)){b=""+c.name}for(prop in c){a.push(prop+"="+c[prop])}}return e.open(""+d,b,a.join(", "))},getCSS:function(b,a,e){var d=this;var c=null;$.get(b,function(f){if(!a.styletag){c=d.elem("link",{rel:"stylesheet",type:"text/css",media:a.media||"screen",href:""+b})}else{c=d.elem("style",{type:"text/css"},f)}if(d.isSet(a.charset)){c.attr("charset",""+a.charset)}if(d.isSet(a.id)){if(d.isSet(e)){e=(function(g){return function(){c.attr("data-id",""+a.id);g(c)}})(e)}else{e=function(){c.attr("data-id",""+a.id)}}}if(!a.styletag){if($("head link").length>0){$("head link:last").after(c)}else{if($("head style").length>0){$("head style:first").before(c)}else{$("head").append(c)}}if(d.isSet(e)){d.schedule(100,function(){e(c)})}}else{if($("head style").length>0){$("head style:last").after(c)}else{if($("head link").length>0){$("head link:last").after(c)}else{$("head").append(c)}}if(d.isSet(e)){e(c)}}})},cookie:function(b,j,m){if(j!==undefined){m=m||{};if(j===null){j="";m.expires=-1}var e="";if(m.expires&&($.type(m.expires)=="number"||m.expires.toUTCString)){var f;if($.isA(m.expires,"number")){f=new Date();f.setTime(f.getTime()+(m.expires*24*60*60*1000))}else{f=m.expires}e="; expires="+f.toUTCString()}var l=m.path?"; path="+(m.path):"";var g=m.domain?"; domain="+(m.domain):"";var a=m.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var h=0;h<k.length;h++){var c=$.trim(k[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break}}}return d}},cssToInt:function(a){return parseInt(a.replace(/(px|em|%)$/,""))},cssUrlToSrc:function(a,c){var d=new RegExp("^url\\((?:'|\")?([^'\"]+)(?:'|\")?\\)$","i");var b=d.exec(a);if(this.isSet(b)){if(!this.isSet(c)){return b[1]}else{return b[1].substr(c.length)}}else{return""}},argproxy:function(c,b){var a=Array.prototype.slice.call(arguments,2);return function(){c.apply(b,a)}},validate:function(c,b){if(!this.isSet(c)||!this.isA(c,"object")){throw"type exception: obj not an Object";return false}if(!this.isSet(b)||!$.isArray(b)){throw"param exception: no valid memberNames";return false}for(var a=0;a<b.length;a++){if(!this.isSet(c[b[a]])){throw"validity exception: missing member "+b[a];return false}}return true},isolateId:function(a){var b=String(a).match(/[0-9]+/);if(this.isSet(b)&&b.length>0){return b[0]}else{throw"id-isolation exception: no valid id in string";return null}},maskForSelector:function(a){return a.replace(/([\#\;\&\,\.\+\*\~\'\:\"\!\^\$\[\]\(\)\=\>\ÃŸ\|\/\@])/,"\\$1")},removeSelection:function(){if(window.getSelection){window.getSelection().removeAllRanges()}else{if(document.getSelection){document.getSelection().removeAllRanges()}}},contextIsTouchDevice:function(d,c,f){var e=this;var g="createTouch" in document;var b=f?true:g;var a=navigator.userAgent;if(this.isSet(d)&&d){b=g&&(this.isSet(a.match(/(iPhone|iPod|iPad)/i))||this.isSet(a.match(/BlackBerry/i))||this.isSet(a.match(/Android/i))||this.isSet(a.match(/IE\sMobile\s[0-9]{0,2}/i)));if(!b&&this.isSet(c)&&$.isArray(c)){$.each(c,function(h,j){var k=new RegExp(j,"i");var i=k.exec(a);b=(g&&b)||(g&&e.isSet(i))})}}return b}});$.fn.extend({doselect:function(){if($(this).is("option, :text, textarea")){if($(this).is(":text, textarea")){$(this).each(function(){this.focus();this.select()})}else{$(this).attr("selected","selected")}}return $(this)},deselect:function(){if($(this).is(":text, textarea")){var a=$(this).val();var b=function(c){return false};$(this).on("change",b).val("").val(a).off("change",b)}else{$(this).removeAttr("selected")}return $(this)},check:function(){if($(this).is(":checkbox, :radio")){$(this).attr("checked","checked")}return $(this)},uncheck:function(){$(this).removeAttr("checked");return $(this)},enable:function(){$(this).removeAttr("disabled");return $(this)},disable:function(){if($(this).is(":input")){$(this).attr("disabled","disabled")}return $(this)},addClassUnique:function(a){if(!$(this).hasClass(""+a)){$(this).addClass(""+a)}return $(this)},setElementIdentity:function(f,b,c,a){var d=this;var e=["id","class","style"];if($.isSet(a)&&$.isA(a,"object")){$.each(a[0].attributes,function(g,h){if(h.specified){if($.inArray(h.name,e)!=-1){$(d).attr(h.name,h.value)}else{if(h.name.indexOf("data-")==0){$(d).attr(h.name,h.value).data($.strReplace("data-","",h.name),h.value)}}}})}if($.isSet(f)){$(this).attr("id",""+f)}if($.isSet(b)){if($.isArray(b)){$.each(b,function(g,h){$(d).addClassUnique(h)})}else{$(this).attr("class",($.isSet($(this).attr("class"))?$(this).attr("class")+" ":"")+b)}}if($.isSet(c)){if($.isPlainObject(c)){$(d).css(c)}else{$(this).attr("style",($.isSet($(this).attr("style"))?$(this).attr("style")+" ":"")+c)}}return $(this)},urlParameter:function(g){g=""+g;var b=false;var f=[];var a=null;if($(this).prop("nodeName")=="#document"){if(window.location.search.search(g)>-1){a=window.location.search.substr(1,window.location.search.length).split("&")}}else{if($.isSet($(this).attr("src"))){var d=$(this).attr("src");if(d.indexOf("?")>-1){a=d.substr(d.indexOf("?")+1).split("&")}}else{if($.isSet($(this).attr("href"))){var d=$(this).attr("href");if(d.indexOf("?")>-1){a=d.substr(d.indexOf("?")+1).split("&")}}else{return null}}}if(a===null){return null}var c=null;for(var e=0;e<a.length;e++){c=a[e].split("=");if(c[0]==g){b=true;if(c.length>1){f.push(c[1])}}}if(!b){return null}else{if(f.length==0){return true}else{if(f.length==1){return f[0]}else{return f}}}},urlAnchor:function(c){var a=null;if($(this).prop("nodeName")=="#document"){a=window.location.hash}else{if($.isSet($(this).attr("src"))){var b=$(this).attr("src").split("#");if(b.length>1){a="#"+b[1]}}else{if($.isSet($(this).attr("href"))){var b=$(this).attr("href").split("#");if(b.length>1){a="#"+b[1]}}else{return null}}}if($.isSet(c)&&c){a=a.replace("#","")}return a},formDataToObject:function(){var a=$(this).serializeArray();var c={};var d=false;for(var b=0;b<a.length;b++){d=false;if(a[b].name.indexOf("[]")!=-1){a[b].name=a[b].name.slice(0,a[b].name.indexOf("[]"));d=true}if(!$.isSet(c[a[b].name])){if(!d){c[a[b].name]=a[b].value}else{c[a[b].name]=[a[b].value]}}else{if(!$.isArray(c[a[b].name])){c[a[b].name]=[c[a[b].name],a[b].value]}else{c[a[b].name].push(a[b].value)}}}return c},rehide:function(){$(this).each(function(){if($(this).hasClass("hidden")){$(this).removeClass("hidden").hide()}});return $(this)},measureHidden:function(f,b,d){var e=null;if(!$.isSet(d)){d=$("body")}d.sandbox();var c=$(this).clone();d.children("#sandbox").append(c);var a=null;if($.isSet(b)){a=c.find(""+b)}else{a=c}e=$.proxy($.fn[""+f],a)();d.removeSandbox();return e},imgLoad:function(c){var a=this.filter("img");var b=a.length;a.load(function(){if(--b<=0){c.call(a,this)}}).each(function(){if(this.complete||this.complete===undefined){var d=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=d}});return this},loopAnimation:function(b,a){var a=!$.isSet(a)||($.isSet(a)&&a);if($.isFunction(b)){if(a){$(this).stop(true,true)}$(this).queue(function(c){b($(this));$(this).queue(arguments.callee);c()})}return this},disableSelection:function(){$(this).each(function(){this.onselectstart=function(){return false};this.unselectable="on";$(this).css({"user-select":"none","-o-user-select":"none","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none"})});return $(this)},boxMessage:function(d,c,e,b){var a=null;if($(this).children("div.boxmessage").length>0){a=$(this).children("div.boxmessage:first")}else{a=this.elem("div",{"class":"boxmessage"}).append(this.elem("div",{"class":"boxmessagebg"})).append(this.elem("div",{"class":"boxmessagetextcontainer"})).children(".boxmessagetextcontainer").append(this.elem("div",{"class":"boxmessagetext"})).end();a.hide();$(this).append(a);a.click(function(){$(this).fadeOut()})}if(!this.isSet(c)){a.find(".boxmessagetext:first").attr("style",""+c)}if(this.isSet(b)){a.off("click");a.css("cursor","default")}a.find(".boxmessagetext:first").html(""+d);a.fadeIn(this.isSet(e)?e:400);return $(this)},removeBoxMessage:function(a){$(this).children("div.boxmessage").fadeOut(this.isSet(a)?a:400,function(){$(this).remove()});return $(this)},sandbox:function(){$(this).append($.elem("div",{id:"sandbox",style:"position:absolute; visibility:hidden; display:block;"}));return $(this)},removeSandbox:function(){$(this).find("#sandbox").remove();return $(this)}});$.extend($.expr[":"],{focus:function(a){return a==document.activeElement}});